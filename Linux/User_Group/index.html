<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux 用户和用户组管理 | Young&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="Young丶java后端技术博客,专注后端学习与总结。擅长spring boot,JAVA基础总结,等方面的知识,关注spring,架构,elasticsearch,mysql领域.">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.53c04193.css" as="style"><link rel="preload" href="/assets/js/app.e4caa6db.js" as="script"><link rel="preload" href="/assets/js/2.d1be14c5.js" as="script"><link rel="preload" href="/assets/js/162.baee00ca.js" as="script"><link rel="prefetch" href="/assets/js/10.20449a2b.js"><link rel="prefetch" href="/assets/js/100.f25e73b5.js"><link rel="prefetch" href="/assets/js/101.3180ba9d.js"><link rel="prefetch" href="/assets/js/102.fcd415ea.js"><link rel="prefetch" href="/assets/js/103.522869bb.js"><link rel="prefetch" href="/assets/js/104.5da1e4e4.js"><link rel="prefetch" href="/assets/js/105.e5a40fe8.js"><link rel="prefetch" href="/assets/js/106.627d6279.js"><link rel="prefetch" href="/assets/js/107.606beca1.js"><link rel="prefetch" href="/assets/js/108.100e1cb2.js"><link rel="prefetch" href="/assets/js/109.9765392e.js"><link rel="prefetch" href="/assets/js/11.da3512b5.js"><link rel="prefetch" href="/assets/js/110.b73cf0d9.js"><link rel="prefetch" href="/assets/js/111.3f77dd60.js"><link rel="prefetch" href="/assets/js/112.0c7d547d.js"><link rel="prefetch" href="/assets/js/113.1827c266.js"><link rel="prefetch" href="/assets/js/114.daf1d8a5.js"><link rel="prefetch" href="/assets/js/115.e7dca24d.js"><link rel="prefetch" href="/assets/js/116.11b303de.js"><link rel="prefetch" href="/assets/js/117.203cefba.js"><link rel="prefetch" href="/assets/js/118.61d8527b.js"><link rel="prefetch" href="/assets/js/119.1f959a37.js"><link rel="prefetch" href="/assets/js/12.11f18e06.js"><link rel="prefetch" href="/assets/js/120.c268b7aa.js"><link rel="prefetch" href="/assets/js/121.64318c96.js"><link rel="prefetch" href="/assets/js/122.cbddb70d.js"><link rel="prefetch" href="/assets/js/123.b49b84fb.js"><link rel="prefetch" href="/assets/js/124.392f030b.js"><link rel="prefetch" href="/assets/js/125.45f631c4.js"><link rel="prefetch" href="/assets/js/126.700cc575.js"><link rel="prefetch" href="/assets/js/127.d649cb2a.js"><link rel="prefetch" href="/assets/js/128.bc018411.js"><link rel="prefetch" href="/assets/js/129.d0a74611.js"><link rel="prefetch" href="/assets/js/13.1cb33dc8.js"><link rel="prefetch" href="/assets/js/130.45b1f75c.js"><link rel="prefetch" href="/assets/js/131.45ba93df.js"><link rel="prefetch" href="/assets/js/132.c58bbbd7.js"><link rel="prefetch" href="/assets/js/133.7f53922e.js"><link rel="prefetch" href="/assets/js/134.ddf0d780.js"><link rel="prefetch" href="/assets/js/135.ada3af13.js"><link rel="prefetch" href="/assets/js/136.4097c2be.js"><link rel="prefetch" href="/assets/js/137.fc910ac9.js"><link rel="prefetch" href="/assets/js/138.9628f460.js"><link rel="prefetch" href="/assets/js/139.3125ef74.js"><link rel="prefetch" href="/assets/js/14.1004ce43.js"><link rel="prefetch" href="/assets/js/140.bb53ac81.js"><link rel="prefetch" href="/assets/js/141.a002ac19.js"><link rel="prefetch" href="/assets/js/142.540d19e4.js"><link rel="prefetch" href="/assets/js/143.4cbccfca.js"><link rel="prefetch" href="/assets/js/144.8a217b6a.js"><link rel="prefetch" href="/assets/js/145.9c7bc0de.js"><link rel="prefetch" href="/assets/js/146.3dfd0773.js"><link rel="prefetch" href="/assets/js/147.bc0f0d42.js"><link rel="prefetch" href="/assets/js/148.e0cdc4d5.js"><link rel="prefetch" href="/assets/js/149.8486db6e.js"><link rel="prefetch" href="/assets/js/15.703e8784.js"><link rel="prefetch" href="/assets/js/150.5f3b7fb5.js"><link rel="prefetch" href="/assets/js/151.98a3f202.js"><link rel="prefetch" href="/assets/js/152.2940f2ba.js"><link rel="prefetch" href="/assets/js/153.75f3a085.js"><link rel="prefetch" href="/assets/js/154.fa2da83b.js"><link rel="prefetch" href="/assets/js/155.113be5c8.js"><link rel="prefetch" href="/assets/js/156.0667e7f5.js"><link rel="prefetch" href="/assets/js/157.0b3e5dfa.js"><link rel="prefetch" href="/assets/js/158.a338bdd7.js"><link rel="prefetch" href="/assets/js/159.33c9771c.js"><link rel="prefetch" href="/assets/js/16.71e3d898.js"><link rel="prefetch" href="/assets/js/160.e868c8b3.js"><link rel="prefetch" href="/assets/js/161.cf61955e.js"><link rel="prefetch" href="/assets/js/163.183cde82.js"><link rel="prefetch" href="/assets/js/164.c1eadef5.js"><link rel="prefetch" href="/assets/js/165.70ee8a24.js"><link rel="prefetch" href="/assets/js/166.8e185ff2.js"><link rel="prefetch" href="/assets/js/167.0881cf57.js"><link rel="prefetch" href="/assets/js/168.88caf424.js"><link rel="prefetch" href="/assets/js/169.e7e984ff.js"><link rel="prefetch" href="/assets/js/17.b0356f05.js"><link rel="prefetch" href="/assets/js/170.c7052d81.js"><link rel="prefetch" href="/assets/js/171.2ab773fd.js"><link rel="prefetch" href="/assets/js/172.0e39f858.js"><link rel="prefetch" href="/assets/js/173.76661218.js"><link rel="prefetch" href="/assets/js/174.0ac9f795.js"><link rel="prefetch" href="/assets/js/175.da30bba2.js"><link rel="prefetch" href="/assets/js/176.0f230688.js"><link rel="prefetch" href="/assets/js/177.040e0937.js"><link rel="prefetch" href="/assets/js/178.68852030.js"><link rel="prefetch" href="/assets/js/179.c998f0ca.js"><link rel="prefetch" href="/assets/js/18.2e77c8d1.js"><link rel="prefetch" href="/assets/js/180.4f6b395f.js"><link rel="prefetch" href="/assets/js/181.577a5325.js"><link rel="prefetch" href="/assets/js/182.6b43cbf2.js"><link rel="prefetch" href="/assets/js/183.cf9e9cca.js"><link rel="prefetch" href="/assets/js/184.f0e76def.js"><link rel="prefetch" href="/assets/js/185.2d3d8eea.js"><link rel="prefetch" href="/assets/js/186.4db71601.js"><link rel="prefetch" href="/assets/js/187.8b6a6829.js"><link rel="prefetch" href="/assets/js/188.4a0b8f41.js"><link rel="prefetch" href="/assets/js/189.0a28241b.js"><link rel="prefetch" href="/assets/js/19.51c97d4c.js"><link rel="prefetch" href="/assets/js/190.5001309c.js"><link rel="prefetch" href="/assets/js/191.42778cf1.js"><link rel="prefetch" href="/assets/js/192.fabd1cb0.js"><link rel="prefetch" href="/assets/js/193.cbc113b8.js"><link rel="prefetch" href="/assets/js/194.4cf24763.js"><link rel="prefetch" href="/assets/js/195.ea5d1afb.js"><link rel="prefetch" href="/assets/js/196.16115ce4.js"><link rel="prefetch" href="/assets/js/197.b90179d1.js"><link rel="prefetch" href="/assets/js/198.456ceb51.js"><link rel="prefetch" href="/assets/js/199.a28de97a.js"><link rel="prefetch" href="/assets/js/20.79989fc4.js"><link rel="prefetch" href="/assets/js/200.72102ac7.js"><link rel="prefetch" href="/assets/js/201.e2b3a297.js"><link rel="prefetch" href="/assets/js/202.d4283e12.js"><link rel="prefetch" href="/assets/js/203.6e5e6596.js"><link rel="prefetch" href="/assets/js/204.363863cf.js"><link rel="prefetch" href="/assets/js/205.d16c5a36.js"><link rel="prefetch" href="/assets/js/206.dc867263.js"><link rel="prefetch" href="/assets/js/207.acfeaaaa.js"><link rel="prefetch" href="/assets/js/208.22c49054.js"><link rel="prefetch" href="/assets/js/209.0f7c526b.js"><link rel="prefetch" href="/assets/js/21.1b619a3f.js"><link rel="prefetch" href="/assets/js/210.b247a678.js"><link rel="prefetch" href="/assets/js/211.fe8629a4.js"><link rel="prefetch" href="/assets/js/212.48b672e5.js"><link rel="prefetch" href="/assets/js/213.08f571a8.js"><link rel="prefetch" href="/assets/js/214.04da1824.js"><link rel="prefetch" href="/assets/js/215.f60b57f4.js"><link rel="prefetch" href="/assets/js/216.4383ceb6.js"><link rel="prefetch" href="/assets/js/217.3b1ce286.js"><link rel="prefetch" href="/assets/js/218.1534ef52.js"><link rel="prefetch" href="/assets/js/219.6901e38c.js"><link rel="prefetch" href="/assets/js/22.349d3a16.js"><link rel="prefetch" href="/assets/js/220.22e0c5ea.js"><link rel="prefetch" href="/assets/js/221.2e7a5a4f.js"><link rel="prefetch" href="/assets/js/222.76b63073.js"><link rel="prefetch" href="/assets/js/223.500a058f.js"><link rel="prefetch" href="/assets/js/224.7f7c1250.js"><link rel="prefetch" href="/assets/js/225.2f183cbe.js"><link rel="prefetch" href="/assets/js/23.712dd5ac.js"><link rel="prefetch" href="/assets/js/24.77ae5052.js"><link rel="prefetch" href="/assets/js/25.e95f81fb.js"><link rel="prefetch" href="/assets/js/26.82cdd880.js"><link rel="prefetch" href="/assets/js/27.427a5aec.js"><link rel="prefetch" href="/assets/js/28.e245952d.js"><link rel="prefetch" href="/assets/js/29.50596e31.js"><link rel="prefetch" href="/assets/js/3.4f4335cf.js"><link rel="prefetch" href="/assets/js/30.016e73a0.js"><link rel="prefetch" href="/assets/js/31.fb0b0b40.js"><link rel="prefetch" href="/assets/js/32.8e7d8efe.js"><link rel="prefetch" href="/assets/js/33.f05f242b.js"><link rel="prefetch" href="/assets/js/34.893b8c3e.js"><link rel="prefetch" href="/assets/js/35.f98d31b7.js"><link rel="prefetch" href="/assets/js/36.6a5744a0.js"><link rel="prefetch" href="/assets/js/37.67e8976d.js"><link rel="prefetch" href="/assets/js/38.2d8447e0.js"><link rel="prefetch" href="/assets/js/39.3b3fde85.js"><link rel="prefetch" href="/assets/js/4.93e1dc89.js"><link rel="prefetch" href="/assets/js/40.8cde36eb.js"><link rel="prefetch" href="/assets/js/41.9df0f821.js"><link rel="prefetch" href="/assets/js/42.c9f1a26b.js"><link rel="prefetch" href="/assets/js/43.fa088c07.js"><link rel="prefetch" href="/assets/js/44.121055e3.js"><link rel="prefetch" href="/assets/js/45.7995c3a0.js"><link rel="prefetch" href="/assets/js/46.17d53a2e.js"><link rel="prefetch" href="/assets/js/47.4a374966.js"><link rel="prefetch" href="/assets/js/48.733e5b6c.js"><link rel="prefetch" href="/assets/js/49.0fb92742.js"><link rel="prefetch" href="/assets/js/5.f52855e6.js"><link rel="prefetch" href="/assets/js/50.50fc5031.js"><link rel="prefetch" href="/assets/js/51.69d8d52a.js"><link rel="prefetch" href="/assets/js/52.d84cedc3.js"><link rel="prefetch" href="/assets/js/53.a64ddaf4.js"><link rel="prefetch" href="/assets/js/54.15e09103.js"><link rel="prefetch" href="/assets/js/55.0f7e8fd5.js"><link rel="prefetch" href="/assets/js/56.6cb5bf13.js"><link rel="prefetch" href="/assets/js/57.d90d9da6.js"><link rel="prefetch" href="/assets/js/58.2c03a905.js"><link rel="prefetch" href="/assets/js/59.02cf613a.js"><link rel="prefetch" href="/assets/js/6.0ff35647.js"><link rel="prefetch" href="/assets/js/60.bb6d2b2f.js"><link rel="prefetch" href="/assets/js/61.ef2abfd3.js"><link rel="prefetch" href="/assets/js/62.b09e5f81.js"><link rel="prefetch" href="/assets/js/63.6ca85ec7.js"><link rel="prefetch" href="/assets/js/64.77eab656.js"><link rel="prefetch" href="/assets/js/65.65b00883.js"><link rel="prefetch" href="/assets/js/66.040b5d23.js"><link rel="prefetch" href="/assets/js/67.23318ab1.js"><link rel="prefetch" href="/assets/js/68.5c29433f.js"><link rel="prefetch" href="/assets/js/69.90978695.js"><link rel="prefetch" href="/assets/js/7.463451e9.js"><link rel="prefetch" href="/assets/js/70.0c585fbd.js"><link rel="prefetch" href="/assets/js/71.120e4ae5.js"><link rel="prefetch" href="/assets/js/72.53bf1e3a.js"><link rel="prefetch" href="/assets/js/73.282f5b35.js"><link rel="prefetch" href="/assets/js/74.4f1cb67d.js"><link rel="prefetch" href="/assets/js/75.f5d3ea1e.js"><link rel="prefetch" href="/assets/js/76.fb173587.js"><link rel="prefetch" href="/assets/js/77.8064b022.js"><link rel="prefetch" href="/assets/js/78.d26f8075.js"><link rel="prefetch" href="/assets/js/79.6cff2fa5.js"><link rel="prefetch" href="/assets/js/8.d5f74857.js"><link rel="prefetch" href="/assets/js/80.29d746c7.js"><link rel="prefetch" href="/assets/js/81.c0a214a2.js"><link rel="prefetch" href="/assets/js/82.f0c93ca2.js"><link rel="prefetch" href="/assets/js/83.db6f55e1.js"><link rel="prefetch" href="/assets/js/84.b0a7a28c.js"><link rel="prefetch" href="/assets/js/85.db7376d4.js"><link rel="prefetch" href="/assets/js/86.96ec3402.js"><link rel="prefetch" href="/assets/js/87.ae41a109.js"><link rel="prefetch" href="/assets/js/88.d83c21c8.js"><link rel="prefetch" href="/assets/js/89.33868490.js"><link rel="prefetch" href="/assets/js/9.2680f96d.js"><link rel="prefetch" href="/assets/js/90.ed48459a.js"><link rel="prefetch" href="/assets/js/91.e1ee23ba.js"><link rel="prefetch" href="/assets/js/92.8b354527.js"><link rel="prefetch" href="/assets/js/93.0682d2e4.js"><link rel="prefetch" href="/assets/js/94.105580aa.js"><link rel="prefetch" href="/assets/js/95.d378d658.js"><link rel="prefetch" href="/assets/js/96.a6460598.js"><link rel="prefetch" href="/assets/js/97.a4cc955f.js"><link rel="prefetch" href="/assets/js/98.9a600d4f.js"><link rel="prefetch" href="/assets/js/99.45007523.js">
    <link rel="stylesheet" href="/assets/css/0.styles.53c04193.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Young's blog" class="logo"> <span class="site-name can-hide">Young's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/Spring/" class="nav-link">Spring</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章1</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/note/react/" class="nav-link">《React》</a></li><li class="dropdown-subitem"><a href="/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git》</a></li><li class="dropdown-subitem"><a href="/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/andanyang/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/logo.png"> <div class="blogger-info"><h3>Young</h3> <span></span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/Spring/" class="nav-link">Spring</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章1</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/note/react/" class="nav-link">《React》</a></li><li class="dropdown-subitem"><a href="/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git》</a></li><li class="dropdown-subitem"><a href="/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/andanyang/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>linux命令</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Linux/User_Group/" aria-current="page" class="active sidebar-link">Linux 用户和用户组管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/Linux/User_Group/#一、linux-系统用户账号的管理" class="sidebar-link">一、Linux 系统用户账号的管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_1、添加新的用户账号使用-useradd-命令-其语法如下" class="sidebar-link">1、添加新的用户账号使用 useradd 命令，其语法如下：</a></li><li class="sidebar-sub-header level4"><a href="/Linux/User_Group/#实例-1" class="sidebar-link">实例 1</a></li><li class="sidebar-sub-header level4"><a href="/Linux/User_Group/#实例-2" class="sidebar-link">实例 2</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Linux/User_Group/#linux-中禁止用户登录具体方法" class="sidebar-link">Linux 中禁止用户登录具体方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_2、删除帐号" class="sidebar-link">2、删除帐号</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_3、修改帐号" class="sidebar-link">3、修改帐号</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_4、用户口令的管理" class="sidebar-link">4、用户口令的管理</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Linux/User_Group/#二、linux-系统用户组的管理" class="sidebar-link">二、Linux 系统用户组的管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_1、增加一个新的用户组使用-groupadd-命令。其格式如下" class="sidebar-link">1、增加一个新的用户组使用 groupadd 命令。其格式如下：</a></li><li class="sidebar-sub-header level4"><a href="/Linux/User_Group/#实例-1-2" class="sidebar-link">实例 1：</a></li><li class="sidebar-sub-header level4"><a href="/Linux/User_Group/#实例-2-2" class="sidebar-link">实例 2：</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_2、如果要删除一个已有的用户组-使用-groupdel-命令-其格式如下" class="sidebar-link">2、如果要删除一个已有的用户组，使用 groupdel 命令，其格式如下：</a></li><li class="sidebar-sub-header level4"><a href="/Linux/User_Group/#例如" class="sidebar-link">例如：</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_3、修改用户组的属性使用-groupmod-命令。其语法如下" class="sidebar-link">3、修改用户组的属性使用 groupmod 命令。其语法如下：</a></li><li class="sidebar-sub-header level4"><a href="/Linux/User_Group/#实例-1-3" class="sidebar-link">实例 1：</a></li><li class="sidebar-sub-header level4"><a href="/Linux/User_Group/#实例-2-3" class="sidebar-link">实例 2：</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_4、如果一个用户同时属于多个用户组-那么用户可以在用户组之间切换-以便具有其他用户组的权限。" class="sidebar-link">4、如果一个用户同时属于多个用户组，那么用户可以在用户组之间切换，以便具有其他用户组的权限。</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Linux/User_Group/#三、与用户账号有关的系统文件" class="sidebar-link">三、与用户账号有关的系统文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_1、-etc-passwd-文件是用户管理工作涉及的最重要的一个文件。" class="sidebar-link">1、/etc/passwd 文件是用户管理工作涉及的最重要的一个文件。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_1-用户名-是代表用户账号的字符串。" class="sidebar-link">1）&quot;用户名&quot; 是代表用户账号的字符串。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_2-口令-一些系统中-存放着加密后的用户口令字。" class="sidebar-link">2）“口令” 一些系统中，存放着加密后的用户口令字。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_3-用户标识号-是一个整数-系统内部用它来标识用户。" class="sidebar-link">3）“用户标识号” 是一个整数，系统内部用它来标识用户。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_4-组标识号-字段记录的是用户所属的用户组。" class="sidebar-link">4）“组标识号” 字段记录的是用户所属的用户组。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_5-注释性描述-字段记录着用户的一些个人情况。" class="sidebar-link">5)“注释性描述” 字段记录着用户的一些个人情况。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_6-主目录-也就是用户的起始工作目录。" class="sidebar-link">6)“主目录”，也就是用户的起始工作目录。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_7-用户登录后-要启动一个进程-负责将用户的操作传给内核-这个进程是用户登录到系统后运行的命令解释器或某个特定的程序-即-shell。" class="sidebar-link">7) 用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即 Shell。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_8-系统中有一类用户称为伪用户-pseudo-users-。" class="sidebar-link">8) 系统中有一类用户称为伪用户（pseudo users）。</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Linux/User_Group/#拥有帐户文件" class="sidebar-link">拥有帐户文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_3、用户组的所有信息都存放在-etc-group-文件中。" class="sidebar-link">3、用户组的所有信息都存放在 / etc/group 文件中。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#四、添加批量用户" class="sidebar-link">四、添加批量用户</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_1-先编辑一个文本用户文件。" class="sidebar-link">（1）先编辑一个文本用户文件。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_2-以-root-身份执行命令-usr-sbin-newusers-从刚创建的用户文件user-txt中导入数据-创建用户" class="sidebar-link">（2）以 root 身份执行命令 /usr/sbin/newusers，从刚创建的用户文件user.txt中导入数据，创建用户：</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_3-执行命令-usr-sbin-pwunconv。" class="sidebar-link">（3）执行命令 / usr/sbin/pwunconv。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_4-编辑每个用户的密码对照文件。" class="sidebar-link">（4）编辑每个用户的密码对照文件。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_5-以-root-身份执行命令-usr-sbin-chpasswd。" class="sidebar-link">（5）以 root 身份执行命令 /usr/sbin/chpasswd。</a></li><li class="sidebar-sub-header level3"><a href="/Linux/User_Group/#_6-确定密码经编码写入-etc-passwd-的密码栏后。" class="sidebar-link">（6）确定密码经编码写入 / etc/passwd 的密码栏后。</a></li></ul></li></ul></li><li><a href="/Linux/SU_SUDO/" class="sidebar-link">su 和 sudo 切换用户</a></li></ul></section></li><li><a href="/pages/linux-multiplex-I/O-model/" class="sidebar-link">多路复用 I/O 模型详解, 为什么他能支持更高的并发</a></li><li><a href="/pages/d6064c/" class="sidebar-link">讲一讲什么是 MMAP</a></li><li><a href="/linux/vpn/" class="sidebar-link">手把手教你搭建OpenVPN（保姆级教程）</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=linux" title="分类" data-v-06225672>linux</a></li><li data-v-06225672><a href="/categories/?category=linux%E5%91%BD%E4%BB%A4" title="分类" data-v-06225672>linux命令</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/andanyoung" target="_blank" title="作者" class="beLink" data-v-06225672>andanyang</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-10-06</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Linux 用户和用户组管理<!----></h1>  <div class="theme-vdoing-content content__default"><p>Linux 系统是一个多用户多任务的分时操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。</p> <p>用户的账号一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问；另一方面也可以帮助用户组织文件，并为用户提供安全性保护。</p> <p>每个用户账号都拥有一个唯一的用户名和各自的口令。</p> <p>用户在登录时键入正确的用户名和口令后，就能够进入系统和自己的主目录。</p> <p>实现用户账号的管理，要完成的工作主要有如下几个方面：</p> <ul><li>用户账号的添加、删除与修改。</li> <li>用户口令的管理。</li> <li>用户组的管理。</li></ul> <h2 id="一、linux-系统用户账号的管理"><a href="#一、linux-系统用户账号的管理" class="header-anchor">#</a> 一、Linux 系统用户账号的管理</h2> <p>用户账号的管理工作主要涉及到用户账号的添加、修改和删除。</p> <p>添加用户账号就是在系统中创建一个新账号，然后为新账号分配用户号、用户组、主目录和登录 Shell 等资源。刚添加的账号是被锁定的，无法使用。</p> <h3 id="_1、添加新的用户账号使用-useradd-命令-其语法如下"><a href="#_1、添加新的用户账号使用-useradd-命令-其语法如下" class="header-anchor">#</a> 1、添加新的用户账号使用 useradd 命令，其语法如下：</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>useradd 选项 用户名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数说明：</p> <ul><li><p>选项:</p> <ul><li>-c comment 指定一段注释性描述。</li> <li>-d 目录 指定用户主目录，如果此目录不存在，则同时使用 -m 选项，可以创建主目录。</li> <li>-g 用户组 指定用户所属的用户组。</li> <li>-G 用户组，用户组 指定用户所属的附加组。</li> <li>-s Shell 文件 指定用户的登录 Shell。</li> <li>-u 用户号 指定用户的用户号，如果同时有 - o 选项，则可以重复使用其他用户的标识号。</li> <li>-M： 不创建主目录</li></ul></li> <li><p>用户名:</p> <p>指定新账号的登录名。</p></li></ul> <h4 id="实例-1"><a href="#实例-1" class="header-anchor">#</a> 实例 1</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code># useradd –d  /home/sam -m sam
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令创建了一个用户 sam，其中 - d 和 - m 选项用来为登录名 sam 产生一个主目录 /home/sam（/home 为默认的用户主目录所在的父目录）。</p> <h4 id="实例-2"><a href="#实例-2" class="header-anchor">#</a> 实例 2</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code># useradd -s /bin/sh -g group –G adm,root gem
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令新建了一个用户 gem，该用户的登录 Shell 是 <code>/bin/sh</code>，它属于 group 用户组，同时又属于 adm 和 root 用户组，其中 group 用户组是其主组。</p> <p>这里可能新建组：<code>#groupadd group及groupadd adm</code></p> <p>增加用户账号就是在 / etc/passwd 文件中为新用户增加一条记录，同时更新其他系统文件如 / etc/shadow, /etc/group 等。</p> <p>Linux 提供了集成的系统管理工具 userconf，它可以用来对用户账号进行统一管理。</p> <h2 id="linux-中禁止用户登录具体方法"><a href="#linux-中禁止用户登录具体方法" class="header-anchor">#</a> Linux 中禁止用户登录具体方法</h2> <ol><li><strong>创建用户时设置禁止 shell 登录</strong></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# useradd -s /sbin/nologin user01
[root@localhost ~]# tail -1 /etc/passwd
user01:x:1000:1000::/home/user01:/sbin/nologin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>查看<code>/etc/passwd</code>可以看到 user01 的 shell 为<code>/sbin/nologin</code></p> <ol start="2"><li>user03 用户的 shell：</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code># usermod -s /sbin/nologin user03
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>在 Linux 中如何禁止用户登录在 Linux 中如何禁止用户登录也可以手动修改<code>/etc/passwd</code>文件中的用户 shell。</li></ol> <h3 id="_2、删除帐号"><a href="#_2、删除帐号" class="header-anchor">#</a> 2、删除帐号</h3> <p>如果一个用户的账号不再使用，可以从系统中删除。删除用户账号就是要将 <code>/etc/passwd</code> 等系统文件中的该用户记录删除，必要时还删除用户的主目录。</p> <p>删除一个已有的用户账号使用<code>userdel</code>命令，其格式如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>userdel 选项 用户名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>常用的选项是 -r，它的作用是把用户的主目录一起删除。</p> <p>例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># userdel -r sam
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令删除用户 sam 在系统文件中（主要是 <code>/etc/passwd</code>, <code>/etc/shadow</code>, <code>/etc/group</code> 等）的记录，同时删除用户的主目录。</p> <h3 id="_3、修改帐号"><a href="#_3、修改帐号" class="header-anchor">#</a> 3、修改帐号</h3> <p>修改用户账号就是根据实际情况更改用户的有关属性，如用户号、主目录、用户组、登录 Shell 等。</p> <p>修改已有用户的信息使用<code>usermod</code>命令，其格式如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>usermod 选项 用户名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>常用的选项包括<code>-c, -d, -m, -g, -G, -s, -u以及-o等</code>，这些选项的意义与<code>useradd</code>命令中的选项一样，可以为用户指定新的资源值。</p> <p>另外，有些系统可以使用选项：-l 新用户名</p> <p>这个选项指定一个新的账号，即将原来的用户名改为新的用户名。</p> <p>例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># usermod -s /bin/ksh -d /home/z –g developer sam
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令将用户 sam 的登录 Shell 修改为 ksh，主目录改为 / home/z，用户组改为 developer。</p> <h3 id="_4、用户口令的管理"><a href="#_4、用户口令的管理" class="header-anchor">#</a> 4、用户口令的管理</h3> <p>用户管理的一项重要内容是用户口令的管理。用户账号刚创建时没有口令，但是被系统锁定，无法使用，必须为其指定口令后才可以使用，即使是指定空口令。</p> <p>指定和修改用户口令的 Shell 命令是<code>passwd</code>。超级用户可以为自己和其他用户指定口令，普通用户只能用它修改自己的口令。命令的格式为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>passwd 选项 用户名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可使用的选项：</p> <ul><li>-l 锁定口令，即禁用账号。</li> <li>-u 口令解锁。</li> <li>-d 使账号无口令。</li> <li>-f 强迫用户下次登录时修改口令。</li></ul> <p>如果默认用户名，则修改当前用户的口令。</p> <p>例如，假设当前用户是 sam，则下面的命令修改该用户自己的口令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ passwd
Old password:******
New password:*******
Re-enter new password:*******
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如果是超级用户，可以用下列形式指定任何用户的口令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># passwd sam
New password:*******
Re-enter new password:*******
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>普通用户修改自己的口令时，passwd 命令会先询问原口令，验证后再要求用户输入两遍新口令，如果两次输入的口令一致，则将这个口令指定给用户；而超级用户为用户指定口令时，就不需要知道原口令。</p> <p>为了系统安全起见，用户应该选择比较复杂的口令，例如最好使用 8 位长的口令，口令中包含有大写、小写字母和数字，并且应该与姓名、生日等不相同。</p> <p>为用户指定空口令时，执行下列形式的命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># passwd -d sam
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令将用户 sam 的口令删除，这样用户 sam 下一次登录时，系统就不再允许该用户登录了。</p> <p>passwd 命令还可以用 -l(lock) 选项锁定某一用户，使其不能登录，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># passwd -l sam
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <h2 id="二、linux-系统用户组的管理"><a href="#二、linux-系统用户组的管理" class="header-anchor">#</a> 二、Linux 系统用户组的管理</h2> <p>每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理。不同 Linux 系统对用户组的规定有所不同，如 Linux 下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。</p> <p>用户组的管理涉及用户组的添加、删除和修改。组的增加、删除和修改实际上就是对 / etc/group 文件的更新。</p> <h3 id="_1、增加一个新的用户组使用-groupadd-命令。其格式如下"><a href="#_1、增加一个新的用户组使用-groupadd-命令。其格式如下" class="header-anchor">#</a> 1、增加一个新的用户组使用 groupadd 命令。其格式如下：</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>groupadd 选项 用户组
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以使用的选项有：</p> <ul><li>-g GID 指定新用户组的组标识号（GID）。</li> <li>-o 一般与 - g 选项同时使用，表示新用户组的 GID 可以与系统已有用户组的 GID 相同。</li></ul> <h4 id="实例-1-2"><a href="#实例-1-2" class="header-anchor">#</a> 实例 1：</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code># groupadd group1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令向系统中增加了一个新组 group1，新组的组标识号是在当前已有的最大组标识号的基础上加 1。</p> <h4 id="实例-2-2"><a href="#实例-2-2" class="header-anchor">#</a> 实例 2：</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code># groupadd -g 101 group2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令向系统中增加了一个新组 group2，同时指定新组的组标识号是 101。</p> <h3 id="_2、如果要删除一个已有的用户组-使用-groupdel-命令-其格式如下"><a href="#_2、如果要删除一个已有的用户组-使用-groupdel-命令-其格式如下" class="header-anchor">#</a> 2、如果要删除一个已有的用户组，使用 groupdel 命令，其格式如下：</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>groupdel 用户组
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="例如"><a href="#例如" class="header-anchor">#</a> 例如：</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code># groupdel group1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令从系统中删除组 group1。</p> <h3 id="_3、修改用户组的属性使用-groupmod-命令。其语法如下"><a href="#_3、修改用户组的属性使用-groupmod-命令。其语法如下" class="header-anchor">#</a> 3、修改用户组的属性使用 groupmod 命令。其语法如下：</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>groupmod 选项 用户组
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>常用的选项有：</p> <ul><li>-g GID 为用户组指定新的组标识号。</li> <li>-o 与 - g 选项同时使用，用户组的新 GID 可以与系统已有用户组的 GID 相同。</li> <li>-n 新用户组 将用户组的名字改为新名字</li></ul> <h4 id="实例-1-3"><a href="#实例-1-3" class="header-anchor">#</a> 实例 1：</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code># groupmod -g 102 group2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令将组 group2 的组标识号修改为 102。</p> <h4 id="实例-2-3"><a href="#实例-2-3" class="header-anchor">#</a> 实例 2：</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code># groupmod –g 10000 -n group3 group2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令将组 group2 的标识号改为 10000，组名修改为 group3。</p> <h3 id="_4、如果一个用户同时属于多个用户组-那么用户可以在用户组之间切换-以便具有其他用户组的权限。"><a href="#_4、如果一个用户同时属于多个用户组-那么用户可以在用户组之间切换-以便具有其他用户组的权限。" class="header-anchor">#</a> 4、如果一个用户同时属于多个用户组，那么用户可以在用户组之间切换，以便具有其他用户组的权限。</h3> <p>用户可以在登录后，使用命令 newgrp 切换到其他用户组，这个命令的参数就是目的用户组。例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ newgrp root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这条命令将当前用户切换到 root 用户组，前提条件是 root 用户组确实是该用户的主组或附加组。类似于用户账号的管理，用户组的管理也可以通过集成的系统管理工具来完成。</p> <hr> <h2 id="三、与用户账号有关的系统文件"><a href="#三、与用户账号有关的系统文件" class="header-anchor">#</a> 三、与用户账号有关的系统文件</h2> <p>完成用户管理的工作有许多种方法，但是每一种方法实际上都是对有关的系统文件进行修改。</p> <p>与用户和用户组相关的信息都存放在一些系统文件中，这些文件包括 <code>/etc/passwd</code>, <code>/etc/shadow</code>, <code>/etc/group</code> 等。</p> <p>下面分别介绍这些文件的内容。</p> <h3 id="_1、-etc-passwd-文件是用户管理工作涉及的最重要的一个文件。"><a href="#_1、-etc-passwd-文件是用户管理工作涉及的最重要的一个文件。" class="header-anchor">#</a> 1、/etc/passwd 文件是用户管理工作涉及的最重要的一个文件。</h3> <p>Linux 系统中的每个用户都在 <code>/etc/passwd</code> 文件中有一个对应的记录行，它记录了这个用户的一些基本属性。</p> <p>这个文件对所有用户都是可读的。它的内容类似下面的例子：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>＃ cat /etc/passwd

root:x:0:0:Superuser:/:
daemon:x:1:1:System daemons:/etc:
bin:x:2:2:Owner of system commands:/bin:
sys:x:3:3:Owner of system files:/usr/sys:
adm:x:4:4:System accounting:/usr/adm:
uucp:x:5:5:UUCP administrator:/usr/lib/uucp:
auth:x:7:21:Authentication administrator:/tcb/files/auth:
cron:x:9:16:Cron daemon:/usr/spool/cron:
listen:x:37:4:Network daemon:/usr/net/nls:
lp:x:71:18:Printer administrator:/usr/spool/lp:
sam:x:200:50:Sam san:/home/sam:/bin/sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>从上面的例子我们可以看到，/etc/passwd 中一行记录对应着一个用户，每行记录又被冒号 (😃 分隔为 7 个字段，其格式和具体含义如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_1-用户名-是代表用户账号的字符串。"><a href="#_1-用户名-是代表用户账号的字符串。" class="header-anchor">#</a> 1）&quot;用户名&quot; 是代表用户账号的字符串。</h3> <p>通常长度不超过 8 个字符，并且由大小写字母和 / 或数字组成。登录名中不能有冒号 (😃，因为冒号在这里是分隔符。</p> <p>为了兼容起见，登录名中最好不要包含点字符 (.)，并且不使用连字符(-) 和加号 (+) 打头。</p> <h3 id="_2-口令-一些系统中-存放着加密后的用户口令字。"><a href="#_2-口令-一些系统中-存放着加密后的用户口令字。" class="header-anchor">#</a> 2）“口令” 一些系统中，存放着加密后的用户口令字。</h3> <p>虽然这个字段存放的只是用户口令的加密串，不是明文，但是由于 <code>/etc/passwd</code> 文件对所有用户都可读，所以这仍是一个安全隐患。因此，现在许多 Linux 系统（如 SVR4）都使用了 shadow 技术，把真正的加密后的用户口令字存放到 <code>/etc/shadow</code> 文件中，而在 <code>/etc/passwd</code> 文件的口令字段中只存放一个特殊的字符，例如 “x” 或者“*”。</p> <h3 id="_3-用户标识号-是一个整数-系统内部用它来标识用户。"><a href="#_3-用户标识号-是一个整数-系统内部用它来标识用户。" class="header-anchor">#</a> 3）“用户标识号” 是一个整数，系统内部用它来标识用户。</h3> <p>一般情况下它与用户名是一一对应的。如果几个用户名对应的用户标识号是一样的，系统内部将把它们视为同一个用户，但是它们可以有不同的口令、不同的主目录以及不同的登录 Shell 等。</p> <p>通常用户标识号的取值范围是 0 ～ 65535。0 是超级用户 root 的标识号，1 ～ 99 由系统保留，作为管理账号，普通用户的标识号从 100 开始。在 Linux 系统中，这个界限是 500。</p> <h3 id="_4-组标识号-字段记录的是用户所属的用户组。"><a href="#_4-组标识号-字段记录的是用户所属的用户组。" class="header-anchor">#</a> 4）“组标识号” 字段记录的是用户所属的用户组。</h3> <p>它对应着 /etc/group 文件中的一条记录。</p> <h3 id="_5-注释性描述-字段记录着用户的一些个人情况。"><a href="#_5-注释性描述-字段记录着用户的一些个人情况。" class="header-anchor">#</a> 5)“注释性描述” 字段记录着用户的一些个人情况。</h3> <p>例如用户的真实姓名、电话、地址等，这个字段并没有什么实际的用途。在不同的 Linux 系统中，这个字段的格式并没有统一。在许多 Linux 系统中，这个字段存放的是一段任意的注释性描述文字，用做 finger 命令的输出。</p> <h3 id="_6-主目录-也就是用户的起始工作目录。"><a href="#_6-主目录-也就是用户的起始工作目录。" class="header-anchor">#</a> 6)“主目录”，也就是用户的起始工作目录。</h3> <p>它是用户在登录到系统之后所处的目录。在大多数系统中，各用户的主目录都被组织在同一个特定的目录下，而用户主目录的名称就是该用户的登录名。各用户对自己的主目录有读、写、执行（搜索）权限，其他用户对此目录的访问权限则根据具体情况设置。</p> <h3 id="_7-用户登录后-要启动一个进程-负责将用户的操作传给内核-这个进程是用户登录到系统后运行的命令解释器或某个特定的程序-即-shell。"><a href="#_7-用户登录后-要启动一个进程-负责将用户的操作传给内核-这个进程是用户登录到系统后运行的命令解释器或某个特定的程序-即-shell。" class="header-anchor">#</a> 7) 用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即 Shell。</h3> <p>Shell 是用户与 Linux 系统之间的接口。Linux 的 Shell 有许多种，每种都有不同的特点。常用的有 sh(Bourne Shell), csh(C Shell), ksh(Korn Shell), tcsh(TENEX/TOPS-20 type C Shell), bash(Bourne Again Shell) 等。</p> <p>系统管理员可以根据系统情况和用户习惯为用户指定某个 Shell。如果不指定 Shell，那么系统使用 sh 为默认的登录 Shell，即这个字段的值为 / bin/sh。</p> <p>用户的登录 Shell 也可以指定为某个特定的程序（此程序不是一个命令解释器）。</p> <p>利用这一特点，我们可以限制用户只能运行指定的应用程序，在该应用程序运行结束后，用户就自动退出了系统。有些 Linux 系统要求只有那些在系统中登记了的程序才能出现在这个字段中。</p> <h3 id="_8-系统中有一类用户称为伪用户-pseudo-users-。"><a href="#_8-系统中有一类用户称为伪用户-pseudo-users-。" class="header-anchor">#</a> 8) 系统中有一类用户称为伪用户（pseudo users）。</h3> <p>这些用户在 / etc/passwd 文件中也占有一条记录，但是不能登录，因为它们的登录 Shell 为空。它们的存在主要是方便系统管理，满足相应的系统进程对文件属主的要求。</p> <p>常见的伪用户如下所示：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>伪 用 户 含 义
bin 拥有可执行的用户命令文件
sys 拥有系统文件
adm 拥有帐户文件
uucp UUCP使用
lp lp或lpd子系统使用
nobody NFS使用
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><hr> <h2 id="拥有帐户文件"><a href="#拥有帐户文件" class="header-anchor">#</a> 拥有帐户文件</h2> <p><strong>1、除了上面列出的伪用户外，还有许多标准的伪用户，例如：audit, cron, mail, usenet 等，它们也都各自为相关的进程和文件所需要。</strong></p> <p>由于 / etc/passwd 文件是所有用户都可读的，如果用户的密码太简单或规律比较明显的话，一台普通的计算机就能够很容易地将它破解，因此对安全性要求较高的 Linux 系统都把加密后的口令字分离出来，单独存放在一个文件中，这个文件是 / etc/shadow 文件。 有超级用户才拥有该文件读权限，这就保证了用户密码的安全性。</p> <p><strong>2、/etc/shadow 中的记录行与 / etc/passwd 中的一一对应，它由 pwconv 命令根据 / etc/passwd 中的数据自动产生</strong></p> <p>它的文件格式与 / etc/passwd 类似，由若干个字段组成，字段之间用 &quot;:&quot; 隔开。这些字段是：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li>&quot;登录名&quot; 是与 / etc/passwd 文件中的登录名相一致的用户账号</li> <li>&quot;口令&quot; 字段存放的是加密后的用户口令字，长度为 13 个字符。如果为空，则对应用户没有口令，登录时不需要口令；如果含有不属于集合 {./0-9A-Za-z} 中的字符，则对应的用户不能登录。</li> <li>&quot;最后一次修改时间&quot; 表示的是从某个时刻起，到用户最后一次修改口令时的天数。时间起点对不同的系统可能不一样。例如在 SCO Linux 中，这个时间起点是 1970 年 1 月 1 日。</li> <li>&quot;最小时间间隔&quot; 指的是两次修改口令之间所需的最小天数。</li> <li>&quot;最大时间间隔&quot; 指的是口令保持有效的最大天数。</li> <li>&quot;警告时间&quot; 字段表示的是从系统开始警告用户到用户密码正式失效之间的天数。</li> <li>&quot;不活动时间&quot; 表示的是用户没有登录活动但账号仍能保持有效的最大天数。</li> <li>&quot;失效时间&quot; 字段给出的是一个绝对的天数，如果使用了这个字段，那么就给出相应账号的生存期。期满后，该账号就不再是一个合法的账号，也就不能再用来登录了。</li></ol> <p>下面是 / etc/shadow 的一个例子：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>＃ cat /etc/shadow

root:Dnakfw28zf38w:8764:0:168:7:::
daemon:*::0:0::::
bin:*::0:0::::
sys:*::0:0::::
adm:*::0:0::::
uucp:*::0:0::::
nuucp:*::0:0::::
auth:*::0:0::::
cron:*::0:0::::
listen:*::0:0::::
lp:*::0:0::::
sam:EkdiSECLWPdSa:9740:0:0::::
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_3、用户组的所有信息都存放在-etc-group-文件中。"><a href="#_3、用户组的所有信息都存放在-etc-group-文件中。" class="header-anchor">#</a> 3、用户组的所有信息都存放在 / etc/group 文件中。</h3> <p>将用户分组是 Linux 系统中对用户进行管理及控制访问权限的一种手段。</p> <p>每个用户都属于某个用户组；一个组中可以有多个用户，一个用户也可以属于不同的组。</p> <p>当一个用户同时是多个组中的成员时，在 / etc/passwd 文件中记录的是用户所属的主组，也就是登录时所属的默认组，而其他组称为附加组。</p> <p>用户要访问属于附加组的文件时，必须首先使用 newgrp 命令使自己成为所要访问的组中的成员。</p> <p>用户组的所有信息都存放在 / etc/group 文件中。此文件的格式也类似于 / etc/passwd 文件，由冒号 (😃 隔开若干个字段，这些字段有：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>组名:口令:组标识号:组内用户列表
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li>&quot;组名&quot; 是用户组的名称，由字母或数字构成。与 / etc/passwd 中的登录名一样，组名不应重复。</li> <li>&quot;口令&quot; 字段存放的是用户组加密后的口令字。一般 Linux 系统的用户组都没有口令，即这个字段一般为空，或者是 *。</li> <li>&quot;组标识号&quot; 与用户标识号类似，也是一个整数，被系统内部用来标识组。</li> <li>&quot;组内用户列表&quot; 是属于这个组的所有用户的列表 / b]，不同用户之间用逗号 (,) 分隔。这个用户组可能是用户的主组，也可能是附加组。</li></ol> <p>/etc/group 文件的一个例子如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>root::0:root
bin::2:root,bin
sys::3:root,uucp
adm::4:root,adm
daemon::5:root,daemon
lp::7:root,lp
users::20:root,sam
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="四、添加批量用户"><a href="#四、添加批量用户" class="header-anchor">#</a> 四、添加批量用户</h3> <p>添加和删除用户对每位 Linux 系统管理员都是轻而易举的事，比较棘手的是如果要添加几十个、上百个甚至上千个用户时，我们不太可能还使用 useradd 一个一个地添加，必然要找一种简便的创建大量用户的方法。Linux 系统提供了创建大量用户的工具，可以让您立即创建大量用户，方法如下：</p> <h3 id="_1-先编辑一个文本用户文件。"><a href="#_1-先编辑一个文本用户文件。" class="header-anchor">#</a> （1）先编辑一个文本用户文件。</h3> <p>每一列按照<code>/etc/passwd</code>密码文件的格式书写，要注意每个用户的用户名、UID、宿主目录都不可以相同，其中密码栏可以留做空白或输入 x 号。一个范例文件 user.txt 内容如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>user001::600:100:user:/home/user001:/bin/bash
user002::601:100:user:/home/user002:/bin/bash
user003::602:100:user:/home/user003:/bin/bash
user004::603:100:user:/home/user004:/bin/bash
user005::604:100:user:/home/user005:/bin/bash
user006::605:100:user:/home/user006:/bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-以-root-身份执行命令-usr-sbin-newusers-从刚创建的用户文件user-txt中导入数据-创建用户"><a href="#_2-以-root-身份执行命令-usr-sbin-newusers-从刚创建的用户文件user-txt中导入数据-创建用户" class="header-anchor">#</a> （2）以 root 身份执行命令 <code>/usr/sbin/newusers</code>，从刚创建的用户文件<code>user.txt</code>中导入数据，创建用户：</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># newusers &lt; user.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后可以执行命令 <code>vipw</code> 或 <code>vi /etc/passwd</code> 检查 <code>/etc/passwd</code> 文件是否已经出现这些用户的数据，并且用户的宿主目录是否已经创建。</p> <h3 id="_3-执行命令-usr-sbin-pwunconv。"><a href="#_3-执行命令-usr-sbin-pwunconv。" class="header-anchor">#</a> （3）执行命令 / usr/sbin/pwunconv。</h3> <p>将 <code>/etc/shadow</code> 产生的 <code>shadow</code> 密码解码，然后回写到 <code>/etc/passwd</code> 中，并将<code>/etc/shadow</code>的<code>shadow</code>密码栏删掉。这是为了方便下一步的密码转换工作，即先取消 <code>shadow password</code> 功能。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># pwunconv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_4-编辑每个用户的密码对照文件。"><a href="#_4-编辑每个用户的密码对照文件。" class="header-anchor">#</a> （4）编辑每个用户的密码对照文件。</h3> <p>格式为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>用户名:密码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>实例文件 <code>passwd.txt</code> 内容如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>user001:123456
user002:123456
user003:123456
user004:123456
user005:123456
user006:123456
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_5-以-root-身份执行命令-usr-sbin-chpasswd。"><a href="#_5-以-root-身份执行命令-usr-sbin-chpasswd。" class="header-anchor">#</a> （5）以 root 身份执行命令 <code>/usr/sbin/chpasswd</code>。</h3> <p>创建用户密码，<code>chpasswd</code> 会将经过 <code>/usr/bin/passwd</code> 命令编码过的密码写入 <code>/etc/passwd</code> 的密码栏。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># chpasswd &lt; passwd.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_6-确定密码经编码写入-etc-passwd-的密码栏后。"><a href="#_6-确定密码经编码写入-etc-passwd-的密码栏后。" class="header-anchor">#</a> （6）确定密码经编码写入 / etc/passwd 的密码栏后。</h3> <p>执行命令 <code>/usr/sbin/pwconv</code> 将密码编码为 <code>shadow password</code>，并将结果写入 <code>/etc/shadow</code>。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># pwconv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样就完成了大量用户的创建了，之后您可以到 / home 下检查这些用户宿主目录的权限设置是否都正确，并登录验证用户密码是否正确。</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/andanyang/vuepress-theme-vdoing/edit/master/docs/linux/00.linux命令/0001.Linux 用户和用户组管理.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/03/11, 02:40:47</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/Linux/SU_SUDO/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">su 和 sudo 切换用户</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/Linux/SU_SUDO/">su 和 sudo 切换用户</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/bigdata/spark/SparkStreaming_Driver_Executer/"><div>
            spark中代码的执行位置（Driver or Executer）
            <!----></div></a> <span class="date">12-12</span></dt></dl><dl><dd>02</dd> <dt><a href="/bigdata/spark/SparkStreaming/"><div>
            大数据技术之 SparkStreaming
            <!----></div></a> <span class="date">12-12</span></dt></dl><dl><dd>03</dd> <dt><a href="/bigdata/spark/sql/"><div>
            Spark 核心编程之 RDD 累加器与广播变量
            <!----></div></a> <span class="date">12-06</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1218853253@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/andanyang" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2024
    <span>Young | <a href="https://github.com/andanyoung/young-blog/blob/master/LICENSE" target="_blank">MIT License</a> <br/> <a  href="https://beian.miit.gov.cn/" target="_blank">浙ICP备20002744号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.e4caa6db.js" defer></script><script src="/assets/js/2.d1be14c5.js" defer></script><script src="/assets/js/162.baee00ca.js" defer></script>
  </body>
</html>
