(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{614:function(n,t,s){"use strict";s.r(t);var a=s(4),e=Object(a.a)({},(function(){var n=this,t=n._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("p",[t("code",[n._v("@AliasFor")]),n._v("注解是 Spring 框架中的其中一个，此注解主要用于声明注解属性的别名。\n"),t("code",[n._v("@AliasFor")]),n._v("它可以注解到自定义注解的两个属性上，表示这两个互为别名，也就是说这两个属性其实同一个含义。")]),n._v(" "),t("h2",{attrs:{id:"用法-1-注解的属性互为别名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-1-注解的属性互为别名"}},[n._v("#")]),n._v(" 用法 1：注解的属性互为别名")]),n._v(" "),t("ul",[t("li",[n._v('其中一个属性名必须是"value"')]),n._v(" "),t("li",[n._v("无论指明设置哪个属性名设置属性值，另一个属性名也是同样属性值，也可以缺省属性名。")]),n._v(" "),t("li",[n._v("若两个都指明属性值，要求值必须相同，否则会报错。")]),n._v(" "),t("li",[n._v('使用简洁。这样使用之后，@MyAnno(location="shanghai")可以直接写为：@MyAnno("shanghai");')])]),n._v(" "),t("p",[n._v("这个功能产生的原因：")]),n._v(" "),t("p",[n._v("若自定义注解有一个属性，且该属性命名上为了体现其含义，调用方必须每次使用自定义注解的时候，都必须写明属性 ，然后设置，这样稍微麻烦。")]),n._v(" "),t("p",[n._v("注解内的别名使用 @AliasFor(value=“xxx”)和@AliasFor(attribute=“xxx”)是等价的。当然在使用此注解的时候，其中的 path 与 value 的值必须是相等的的！")]),n._v(" "),t("h3",{attrs:{id:"实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[n._v("#")]),n._v(" 实例")]),n._v(" "),t("p",[t("strong",[n._v("注解")])]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('package com.example.annotation;\n\nimport org.springframework.core.annotation.AliasFor;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.TYPE})\n@Documented\n@Inherited\npublic @interface MyAnnotation {\n    @AliasFor(attribute = "location")\n    String value() default "";\n\n    @AliasFor(attribute = "value")\n    String location() default "";\n}\n')])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br")])]),t("p",[t("strong",[n._v("控制器")])]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('package com.example.controller;\n\nimport com.example.annotation.MyAnnotation;\nimport org.springframework.core.annotation.AnnotationUtils;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping("/hello")\npublic class HelloController {\n\n    @MyAnnotation(value = "location")\n    /*//下边这两种写法结果与上边是相同的\n    @MyAnnotation("location")\n    @MyAnnotation(location = "location")*/\n    @RequestMapping("/test1")\n    public String test1() {\n        MyAnnotation myAnnotation = null;\n        try {\n            myAnnotation = AnnotationUtils.getAnnotation(this.getClass().getMethod("test1"), MyAnnotation.class);\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        }\n\n        return  "value:" + myAnnotation.value() + ";loation:" + myAnnotation.location();\n    }\n}\n')])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br"),t("span",{staticClass:"line-number"},[n._v("21")]),t("br"),t("span",{staticClass:"line-number"},[n._v("22")]),t("br"),t("span",{staticClass:"line-number"},[n._v("23")]),t("br"),t("span",{staticClass:"line-number"},[n._v("24")]),t("br"),t("span",{staticClass:"line-number"},[n._v("25")]),t("br"),t("span",{staticClass:"line-number"},[n._v("26")]),t("br"),t("span",{staticClass:"line-number"},[n._v("27")]),t("br")])]),t("p",[n._v("前端结果（value 和 location 都是同一个值）")]),n._v(" "),t("blockquote",[t("p",[n._v("value:location;loation:location")])]),n._v(" "),t("h2",{attrs:{id:"用法-2-继承父注解的属性-不重写属性名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-2-继承父注解的属性-不重写属性名"}},[n._v("#")]),n._v(" 用法 2. 继承父注解的属性，不重写属性名")]),n._v(" "),t("h3",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[n._v("#")]),n._v(" 简介")]),n._v(" "),t("p",[n._v("子注解的属性值的读写，其实是对父注解的属性值的读写。（对继承的属性来说）")]),n._v(" "),t("p",[n._v("此时，只能读写继承了的属性值。")]),n._v(" "),t("p",[t("strong",[n._v("注解")])]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.TYPE})\n@Documented\n@Inherited\npublic @interface MyAnnotation {\n    @AliasFor(attribute = "location")\n    String value() default "";\n\n    @AliasFor(attribute = "value")\n    String location() default "";\n}\n')])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.TYPE})\n@Documented\n@Inherited\n@MyAnnotation\npublic @interface SubMyAnnotation {\n    @AliasFor(annotation = MyAnnotation.class)\n    String location() default "";\n}\n')])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br")])]),t("p",[t("strong",[n._v("控制器")])]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('@RestController\n@RequestMapping("/hello")\npublic class HelloController {\n    @SubMyAnnotation(location = "location(my)")\n    @RequestMapping("/test")\n    public String test() {\n        SubMyAnnotation subMyAnnotation = null;\n        MyAnnotation myAnnotation = null;\n        MyAnnotation myAnnotation1 = null;\n\n        try {\n            subMyAnnotation = AnnotationUtils.getAnnotation(this.getClass().getMethod("test"), SubMyAnnotation.class);\n            myAnnotation = AnnotationUtils.getAnnotation(this.getClass().getMethod("test"), MyAnnotation.class);\n            myAnnotation1 = AnnotatedElementUtils.getMergedAnnotation(this.getClass().getMethod("test"), MyAnnotation.class);\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        }\n\n        return "loation(sub):" + subMyAnnotation.location() + "\\n" +\n                "location:" + myAnnotation.location() + "\\n" +\n                "location:" + myAnnotation1.location();\n    }\n}\n')])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br"),t("span",{staticClass:"line-number"},[n._v("21")]),t("br"),t("span",{staticClass:"line-number"},[n._v("22")]),t("br"),t("span",{staticClass:"line-number"},[n._v("23")]),t("br")])]),t("p",[t("strong",[n._v("测试")])]),n._v(" "),t("p",[n._v("前端访问：http://localhost:8080/hello/test")]),n._v(" "),t("p",[t("strong",[n._v("结果")])]),n._v(" "),t("blockquote",[t("p",[n._v("loation(sub):location(my)\nlocation:\nlocation:location(my)")])]),n._v(" "),t("h2",{attrs:{id:"用法-3-继承父注解的属性-并重写属性名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-3-继承父注解的属性-并重写属性名"}},[n._v("#")]),n._v(" 用法 3：继承父注解的属性，并重写属性名")]),n._v(" "),t("p",[n._v("子注解的属性值的读写，其实是对父注解的属性值的读写。（对重写的属性来说）")]),n._v(" "),t("p",[n._v("无论指明设置哪个属性名设置属性值，另一个属性名也是同样属性值，不可以缺省属性名。")]),n._v(" "),t("p",[t("strong",[n._v("注解")])]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.TYPE})\n@Documented\n@Inherited\npublic @interface MyAnnotation {\n    @AliasFor(attribute = "location")\n    String value() default "";\n\n    @AliasFor(attribute = "value")\n    String location() default "";\n}\n')])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.TYPE})\n@Documented\n@Inherited\n@MyAnnotation\npublic @interface SubMyAnnotation {\n    @AliasFor(attribute = "value", annotation = MyAnnotation.class)\n    String subValue() default "";\n\n    @AliasFor(attribute = "location", annotation = MyAnnotation.class)\n    String subLocation() default "";\n}\n')])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br")])]),t("p",[t("strong",[n._v("控制器")])]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('@RestController\n@RequestMapping("/hello")\npublic class HelloController {\n    @SubMyAnnotation(subValue = "subLocation")\n//    @SubMyAnnotation(subLocation = "subLocation")   //这个与上边结果相同\n//    @SubMyAnnotation("subLocation")   //缺省属性名会报错\n    @RequestMapping("/test")\n    public String test() {\n        SubMyAnnotation subMyAnnotation = null;\n        MyAnnotation myAnnotation = null;\n        MyAnnotation myAnnotation1 = null;\n\n        try {\n            subMyAnnotation = AnnotationUtils.getAnnotation(this.getClass().getMethod("test"), SubMyAnnotation.class);\n            myAnnotation = AnnotationUtils.getAnnotation(this.getClass().getMethod("test"), MyAnnotation.class);\n            myAnnotation1 = AnnotatedElementUtils.getMergedAnnotation(this.getClass().getMethod("test"), MyAnnotation.class);\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        }\n        return "subValue:" + subMyAnnotation.subValue() + ";subLoation:" + subMyAnnotation.subLocation() + "\\n" +\n                "value:" + myAnnotation.value() + ";location:" + myAnnotation.location() + "\\n" +\n                "value:" + myAnnotation1.value() + ";location:" + myAnnotation1.location();\n    }\n}\n')])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br"),t("span",{staticClass:"line-number"},[n._v("21")]),t("br"),t("span",{staticClass:"line-number"},[n._v("22")]),t("br"),t("span",{staticClass:"line-number"},[n._v("23")]),t("br"),t("span",{staticClass:"line-number"},[n._v("24")]),t("br")])]),t("p",[t("strong",[n._v("测试")])]),n._v(" "),t("p",[n._v("前端访问：http://localhost:8080/hello/test")]),n._v(" "),t("p",[t("strong",[n._v("结果")])]),n._v(" "),t("blockquote",[t("p",[n._v("subValue:subLocation;subLoation:subLocation\nvalue:;location:\nvalue:subLocation;location:subLocation")])])])}),[],!1,null,null,null);t.default=e.exports}}]);