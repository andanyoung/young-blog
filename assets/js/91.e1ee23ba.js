(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{1230:function(r,t,a){r.exports=a.p+"assets/img/1785010-20220613170511995-786172342.2c0b42d5.png"},1231:function(r,t,a){r.exports=a.p+"assets/img/1785010-20220613170547739-617278337.48244ccd.png"},1232:function(r,t,a){r.exports=a.p+"assets/img/1785010-20220613170645676-1156606471.d424286f.png"},1540:function(r,t,a){"use strict";a.r(t);var e=a(4),s=Object(e.a)({},(function(){var r=this,t=r._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h1",{attrs:{id:"什么计算运行在executor-什么算子运行在driver"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么计算运行在executor-什么算子运行在driver"}},[r._v("#")]),r._v(" 什么计算运行在executor，什么算子运行在driver？")]),r._v(" "),t("p",[r._v("（1）、foreachRdd运行在driver节点，因为它是操作dstream的。foreachPartition和foreach运行在worker节点，因为它是操作rdd的。foreachRdd开启对任务的启动，当执行到执行算子的时候开始任务的执行。\n（2）、对rdd进行操作的就运行在worker节点，对dstream进行操作的就运行在driver节点。")]),r._v(" "),t("p",[r._v("（3）、以下代码将rdd转成了set，所以在driver端执行。")]),r._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[r._v("resultPlayListRdd.map{ _._1 }.collect.toSet\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br")])]),t("h3",{attrs:{id:"一、main方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、main方法"}},[r._v("#")]),r._v(" 一、main方法")]),r._v(" "),t("p",[t("strong",[r._v("main方法就是在driver端执行的，当然这里是把RDD计算的Action剔除的情况")]),r._v("，先看一段代码")]),r._v(" "),t("p",[t("img",{attrs:{src:a(1230),alt:"img"}})]),r._v(" "),t("p",[r._v("除了rdd算子中的代码其他都是在driver端执行，并且只执行一次")]),r._v(" "),t("h3",{attrs:{id:"二、dstream处理方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、dstream处理方法"}},[r._v("#")]),r._v(" 二、DStream处理方法")]),r._v(" "),t("p",[r._v("在sparkStreaming中spark 引入了DStream，在处理的时候代码是：")]),r._v(" "),t("p",[t("img",{attrs:{src:a(1231),alt:"img"}})]),r._v(" "),t("p",[r._v("DStream的action方法中的代码只有在处理rdd时才会在Worker端执行，其他"),t("strong",[r._v("对dstream进行操作的就运行在driver节点")]),r._v("，这里是计算一次执行一次。除了Dstram计算中的代码其他都是在driver端并且只执行一次。")]),r._v(" "),t("h3",{attrs:{id:"三、rdd处理方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、rdd处理方法"}},[r._v("#")]),r._v(" 三、RDD处理方法")]),r._v(" "),t("p",[t("img",{attrs:{src:a(1232),alt:"img"}})]),r._v(" "),t("p",[r._v("与rdd算子无关的代码都是在driver端计算一次执行一次。rdd的算子闭包是在worker端中执行的。")])])}),[],!1,null,null,null);t.default=s.exports}}]);