(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{421:function(a,s,e){a.exports=e.p+"assets/img/wps3.9abaab15.jpg"},422:function(a,s,e){a.exports=e.p+"assets/img/wps4.0a8ab47b.jpg"},423:function(a,s,e){a.exports=e.p+"assets/img/image-20230629001658507.41f04211.png"},424:function(a,s){a.exports="data:image/jpeg;base64,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"},425:function(a,s,e){a.exports=e.p+"assets/img/image-20230629001844220.bb7decb7.png"},426:function(a,s,e){a.exports=e.p+"assets/img/image-20230629002725626.1d4dc5fa.png"},427:function(a,s,e){a.exports=e.p+"assets/img/image-20230629002750512.88d04983.png"},428:function(a,s,e){a.exports=e.p+"assets/img/image-20230629002845923.1df46307.png"},429:function(a,s,e){a.exports=e.p+"assets/img/image-20230629003226189.0b00f4f1.png"},430:function(a,s,e){a.exports=e.p+"assets/img/image-20230629003320851.2ecfd7b7.png"},431:function(a,s,e){a.exports=e.p+"assets/img/image-20230629003411139.74af7749.png"},432:function(a,s,e){a.exports=e.p+"assets/img/image-20230629003534834.95d4497a.png"},433:function(a,s,e){a.exports=e.p+"assets/img/image-20230629003732601.717046da.png"},434:function(a,s,e){a.exports=e.p+"assets/img/image-20230629003850739.fe0d62e6.png"},435:function(a,s,e){a.exports=e.p+"assets/img/image-20230630001204615.4be7115a.png"},436:function(a,s,e){a.exports=e.p+"assets/img/image-20230630001510911.1a622a83.png"},437:function(a,s,e){a.exports=e.p+"assets/img/image-20230630001627630.3b616416.png"},438:function(a,s,e){a.exports=e.p+"assets/img/image-20230630001941619.b75d0f81.png"},439:function(a,s,e){a.exports=e.p+"assets/img/image-20230630002144148.91f5cffe.png"},440:function(a,s,e){a.exports=e.p+"assets/img/image-20230630002306206.57929a4a.png"},441:function(a,s,e){a.exports=e.p+"assets/img/image-20230630002451232.c663d81e.png"},442:function(a,s,e){a.exports=e.p+"assets/img/image-20230630002721564.c4edb77e.png"},443:function(a,s){a.exports="data:image/png;base64,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"},444:function(a,s){a.exports="data:image/png;base64,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"},445:function(a,s,e){a.exports=e.p+"assets/img/image-20230630002921587.6fe26520.png"},446:function(a,s,e){a.exports=e.p+"assets/img/image-20230630003116899.9e2e2f15.png"},614:function(a,s,e){"use strict";e.r(s);var t=e(4),n=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"第-1-章-hdfs-核心参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第-1-章-hdfs-核心参数"}},[a._v("#")]),a._v(" 第 1 章 HDFS—核心参数")]),a._v(" "),s("h2",{attrs:{id:"_1-1-namenode-内存生产配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-namenode-内存生产配置"}},[a._v("#")]),a._v(" 1.1 NameNode 内存生产配置")]),a._v(" "),s("ul",[s("li",[a._v("1）NameNode 内存计算")])]),a._v(" "),s("p",[a._v("每个文件块大概占用 150byte，一台服务器 128G 内存为例，能存储多少文件块呢？")]),a._v(" "),s("p",[a._v("128 * 1024 * 1024 * 1024 / 150Byte ≈ 9.1 亿")]),a._v(" "),s("p",[a._v("G MB KB Byte")]),a._v(" "),s("ul",[s("li",[a._v("2）Hadoop2.x 系列，配置 NameNode 内存")])]),a._v(" "),s("p",[a._v("NameNode 内存默认 2000m，如果服务器内存 4G，NameNode 内存可以配置 3g。在 hadoop-env.sh 文件中配置如下。")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("HADOOP_NAMENODE_OPTS=-Xmx3072m\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ul",[s("li",[a._v("3）Hadoop3.x 系列，配置 NameNode 内存\n"),s("ul",[s("li",[a._v("（1）hadoop-env.sh 中描述 Hadoop 的内存是动态分配的")])])])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# The maximum amount of heap to use (Java -Xmx).  If no unit\n# is provided, it will be converted to MB.  Daemons will\n# prefer any Xmx setting in their respective _OPT variable.\n# There is no default; the JVM will autoscale based upon machine\n# memory size.\n# export HADOOP_HEAPSIZE_MAX=\n\n# The minimum amount of heap to use (Java -Xms).  If no unit\n# is provided, it will be converted to MB.  Daemons will\n# prefer any Xms setting in their respective _OPT variable.\n# There is no default; the JVM will autoscale based upon machine\n# memory size.\n# export HADOOP_HEAPSIZE_MIN=\nHADOOP_NAMENODE_OPTS=-Xmx102400m\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br")])]),s("p",[a._v("（2）查看NameNode占用内存")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 ~]$ jps\n3088 NodeManager\n2611 NameNode\n3271 JobHistoryServer\n2744 DataNode\n3579 Jps\n[atguigu@hadoop102 ~]$ jmap -heap 2611\nHeap Configuration:\n   MaxHeapSize              = 1031798784 (984.0MB)\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])]),s("p",[a._v("（3）查看DataNode占用内存")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 ~]$ jmap -heap 2744\nHeap Configuration:\n   MaxHeapSize              = 1031798784 (984.0MB)\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("查看发现hadoop102上的NameNode和DataNode占用内存都是自动分配的，且相等。不是很合理。")]),a._v(" "),s("p",[s("strong",[a._v("经验参考：")])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://docs.cloudera.com/documentation/enterprise/6/release-notes/topics/rg_hardware_requirements.html#concept_fzz_dq4_gbb%5D",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://docs.cloudera.com/documentation/enterprise/6/release-notes/topics/rg_hardware_requirements.html#concept_fzz_dq4_gbb"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("img",{attrs:{src:e(421),alt:"img"}}),a._v(" "),s("img",{attrs:{src:e(422),alt:"img"}})]),a._v(" "),s("p",[a._v("具体修改：hadoop-env.sh")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('export HDFS_NAMENODE_OPTS="-Dhadoop.security.logger=INFO,RFAS -Xmx1024m"\nexport HDFS_DATANODE_OPTS="-Dhadoop.security.logger=ERROR,RFAS -Xmx1024m"\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"_1-2-namenode心跳并发配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-namenode心跳并发配置"}},[a._v("#")]),a._v(" "),s("strong",[a._v("1.2")]),a._v(" "),s("strong",[a._v("NameNode心跳并发配置")])]),a._v(" "),s("p",[s("img",{attrs:{src:e(423),alt:"image-20230629001658507"}})]),a._v(" "),s("p",[a._v("1）hdfs-site.xml")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("The number of Namenode RPC server threads that listen to requests from clients. If dfs.namenode.servicerpc-address is not configured then Namenode RPC server threads listen to requests from all nodes.\nNameNode有一个工作线程池，用来处理不同DataNode的并发心跳以及客户端并发的元数据操作。\n对于大集群或者有大量客户端的集群来说，通常需要增大该参数。默认值是10。\n<property>\n    <name>dfs.namenode.handler.count</name>\n    <value>21</value>\n</property>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("p",[a._v("企业经验：dfs.namenode.handler.count="),s("img",{attrs:{src:e(424),alt:"img"}}),a._v("，比如集群规模（DataNode台数)为3台时，此参数设置为21。可通过简单的python代码计算该值，代码如下。")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('[atguigu@hadoop102 ~]$ sudo yum install -y python\n[atguigu@hadoop102 ~]$ python\nPython 2.7.5 (default, Apr 11 2018, 07:36:10) \n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)] on linux2\nType "help", "copyright", "credits" or "license" for more information.\n>>> import math\n>>> print int(20*math.log(3))\n21\n>>> quit()\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])]),s("h2",{attrs:{id:"_1-3-开启回收站配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-开启回收站配置"}},[a._v("#")]),a._v(" "),s("strong",[a._v("1.3")]),a._v(" "),s("strong",[a._v("开启回收站配置")])]),a._v(" "),s("p",[a._v("开启回收站功能，可以将删除的文件在不超时的情况下，恢复原数据，起到防止误删除、备份等作用。")]),a._v(" "),s("p",[a._v("1）回收站工作机制")]),a._v(" "),s("p",[s("img",{attrs:{src:e(425),alt:"image-20230629001844220"}})]),a._v(" "),s("p",[a._v("2）开启回收站功能参数说明")]),a._v(" "),s("p",[a._v("（1）默认值fs.trash.interval = 0，0表示禁用回收站；其他值表示设置文件的存活时间。")]),a._v(" "),s("p",[a._v("（2）默认值fs.trash.checkpoint.interval = 0，检查回收站的间隔时间。如果该值为0，则该值设置和fs.trash.interval的参数值相等。")]),a._v(" "),s("p",[a._v("（3）要求fs.trash.checkpoint.interval <= fs.trash.interval。")]),a._v(" "),s("p",[a._v("3）启用回收站")]),a._v(" "),s("p",[a._v("修改core-site.xml，配置垃圾回收时间为1分钟。")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("<property>\n    <name>fs.trash.interval</name>\n    <value>1</value>\n</property>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("4）查看回收站")]),a._v(" "),s("p",[a._v("回收站目录在HDFS集群中的路径：/user/atguigu/.Trash/….")]),a._v(" "),s("p",[s("mark",[a._v("5）注意：通过网页上直接删除的文件也不会走回收站。")])]),a._v(" "),s("p",[a._v("6）通过程序删除的文件不会经过回收站，需要调用moveToTrash()才进入回收站")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Trash trash = New Trash(conf);\ntrash.moveToTrash(path);\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("7）只有在命令行利用"),s("code",[a._v("hadoop fs -rm")]),a._v("命令删除的文件才会走回收站。")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ hadoop fs -rm -r /user/atguigu/input\n2021-07-14 16:13:42,643 INFO fs.TrashPolicyDefault: Moved: 'hdfs://hadoop102:9820/user/atguigu/input' to trash at: hdfs://hadoop102:9820/user/atguigu/.Trash/Current/user/atguigu/input\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("8）恢复回收站数据")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ hadoop fs -mv\n/user/atguigu/.Trash/Current/user/atguigu/input    /user/atguigu/input\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h1",{attrs:{id:"第2章-hdfs-集群压测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第2章-hdfs-集群压测"}},[a._v("#")]),a._v(" 第2章 HDFS—集群压测")]),a._v(" "),s("p",[a._v("在企业中非常关心每天从Java后台拉取过来的数据，需要多久能上传到集群？消费者关心多久能从HDFS上拉取需要的数据？")]),a._v(" "),s("p",[a._v("为了搞清楚HDFS的读写性能，生产环境上非常需要对集群进行压测。")]),a._v(" "),s("p",[s("img",{attrs:{src:e(426),alt:"image-20230629002725626"}})]),a._v(" "),s("p",[a._v("HDFS的读写性能主要受"),s("strong",[a._v("网络和磁盘")]),a._v("影响比较大。为了方便测试，将hadoop102、hadoop103、hadoop104虚拟机网络都设置为100mbps。")]),a._v(" "),s("p",[s("img",{attrs:{src:e(427),alt:"image-20230629002750512"}})]),a._v(" "),s("p",[a._v("100Mbps单位是bit；10M/s单位是byte ; 1byte=8bit，100Mbps/8=12.5M/s。")]),a._v(" "),s("p",[a._v("测试网速：来到hadoop102的/opt/module目录，创建一个")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 software]$ python -m SimpleHTTPServer\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"_2-1-测试hdfs写性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-测试hdfs写性能"}},[a._v("#")]),a._v(" "),s("strong",[a._v("2.1")]),a._v(" 测试HDFS写性能")]),a._v(" "),s("p",[a._v("0）写测试底层原理")]),a._v(" "),s("p",[s("img",{attrs:{src:e(428),alt:"image-20230629002845923"}})]),a._v(" "),s("p",[a._v("1）测试内容：向HDFS集群写10个128M的文件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 mapreduce]$ hadoop jar /opt/module/hadoop-3.1.3/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.3-tests.jar TestDFSIO -write -nrFiles 10 -fileSize 128MB\n\n2021-02-09 10:43:16,853 INFO fs.TestDFSIO: ----- TestDFSIO ----- : write\n2021-02-09 10:43:16,854 INFO fs.TestDFSIO:             Date & time: Tue Feb 09 10:43:16 CST 2021\n2021-02-09 10:43:16,854 INFO fs.TestDFSIO:         Number of files: 10\n2021-02-09 10:43:16,854 INFO fs.TestDFSIO:  Total MBytes processed: 1280\n2021-02-09 10:43:16,854 INFO fs.TestDFSIO:       Throughput mb/sec: 1.61\n2021-02-09 10:43:16,854 INFO fs.TestDFSIO:  Average IO rate mb/sec: 1.9\n2021-02-09 10:43:16,854 INFO fs.TestDFSIO:   IO rate std deviation: 0.76\n2021-02-09 10:43:16,854 INFO fs.TestDFSIO:      Test exec time sec: 133.05\n2021-02-09 10:43:16,854 INFO fs.TestDFSIO:\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br")])]),s("p",[s("mark",[a._v("注意：nrFiles n为生成mapTask的数量，生产环境一般可通过hadoop103:8088查看CPU核数，设置为（CPU核数 - 1)")])]),a._v(" "),s("ul",[s("li",[s("p",[a._v("Number of files：生成mapTask数量，一般是集群中（CPU核数-1），我们测试虚拟机就按照实际的物理内存-1分配即可")])]),a._v(" "),s("li",[s("p",[a._v("Total MBytes processed：单个map处理的文件大小")])]),a._v(" "),s("li",[s("p",[a._v("Throughput mb/sec:单个mapTak的吞吐量；")]),a._v(" "),s("ul",[s("li",[a._v("计算方式：处理的总文件大小/每一个mapTask写数据的时间累加")]),a._v(" "),s("li",[a._v("集群整体吞吐量：生成mapTask数量*单个mapTak的吞吐量")])])]),a._v(" "),s("li",[s("p",[a._v("Average IO rate mb/sec: 平均mapTak的吞吐量")]),a._v(" "),s("ul",[s("li",[a._v("计算方式：每个mapTask处理文件大小/每一个mapTask写数据的时间全部相加除以task数量")])])]),a._v(" "),s("li",[s("p",[a._v("IO rate std deviation:方差、反映各个mapTask处理的差值，越小越均衡")])])]),a._v(" "),s("p",[a._v("2）注意：如果测试过程中，出现异常")]),a._v(" "),s("p",[a._v("（1）可以在yarn-site.xml中设置虚拟内存检测为false")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("\x3c!--是否启动一个线程检查每个任务正使用的虚拟内存量，如果任务超出分配值，则直接将其杀掉，默认是true --\x3e\n<property>\n     <name>yarn.nodemanager.vmem-check-enabled</name>\n     <value>false</value>\n</property>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("（2）分发配置并重启Yarn集群")]),a._v(" "),s("p",[a._v("3）测试结果分析")]),a._v(" "),s("p",[a._v("（1）由于副本1就在本地，所以该副本不参与测试")]),a._v(" "),s("p",[s("img",{attrs:{src:e(429),alt:"image-20230629003226189"}})]),a._v(" "),s("p",[a._v("一共参与测试的文件：10个文件 * 2个副本 = 20个")]),a._v(" "),s("p",[a._v("压测后的速度：1.61")]),a._v(" "),s("p",[a._v("实测速度：1.61M/s * 20个文件 ≈ 32M/s")]),a._v(" "),s("p",[a._v("三台服务器的带宽：12.5 + 12.5 + 12.5 ≈ 30m/s")]),a._v(" "),s("p",[a._v("所有网络资源都已经用满。")]),a._v(" "),s("p",[s("strong",[a._v("如果实测速度远远小于网络，并且实测速度不能满足工作需求，可以考虑采用固态硬盘或者增加磁盘个数。")])]),a._v(" "),s("p",[a._v("（2）如果客户端不在集群节点，那就三个副本都参与计算")]),a._v(" "),s("p",[s("img",{attrs:{src:e(430),alt:"image-20230629003320851"}})]),a._v(" "),s("h2",{attrs:{id:"_2-2-测试hdfs读性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-测试hdfs读性能"}},[a._v("#")]),a._v(" "),s("strong",[a._v("2.2")]),a._v(" 测试HDFS读性能")]),a._v(" "),s("p",[a._v("1）测试内容：读取HDFS集群10个128M的文件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 mapreduce]$ hadoop jar /opt/module/hadoop-3.1.3/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.3-tests.jar TestDFSIO -read -nrFiles 10 -fileSize 128MB\n\n2021-02-09 11:34:15,847 INFO fs.TestDFSIO: ----- TestDFSIO ----- : read\n2021-02-09 11:34:15,847 INFO fs.TestDFSIO:             Date & time: Tue Feb 09 11:34:15 CST 2021\n2021-02-09 11:34:15,847 INFO fs.TestDFSIO:         Number of files: 10\n2021-02-09 11:34:15,847 INFO fs.TestDFSIO:  Total MBytes processed: 1280\n2021-02-09 11:34:15,848 INFO fs.TestDFSIO:       Throughput mb/sec: 200.28\n2021-02-09 11:34:15,848 INFO fs.TestDFSIO:  Average IO rate mb/sec: 266.74\n2021-02-09 11:34:15,848 INFO fs.TestDFSIO:   IO rate std deviation: 143.12\n2021-02-09 11:34:15,848 INFO fs.TestDFSIO:      Test exec time sec: 20.83\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])]),s("p",[a._v("2）删除测试生成数据")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 mapreduce]$ hadoop jar /opt/module/hadoop-3.1.3/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.3-tests.jar TestDFSIO -clean\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("3）测试结果分析：为什么读取文件速度大于网络带宽？由于目前只有三台服务器，且有三个副本，数据读取就近原则，相当于都是读取的本地磁盘数据，没有走网络。")]),a._v(" "),s("p",[s("img",{attrs:{src:e(431),alt:"image-20230629003411139"}})]),a._v(" "),s("h1",{attrs:{id:"第3章-hdfs-多目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第3章-hdfs-多目录"}},[a._v("#")]),a._v(" 第3章 HDFS—多目录")]),a._v(" "),s("h2",{attrs:{id:"_3-1-namenode多目录配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-namenode多目录配置"}},[a._v("#")]),a._v(" 3.1 NameNode多目录配置")]),a._v(" "),s("p",[a._v("1）NameNode的本地目录可以配置成多个，"),s("strong",[a._v("且每个目录存放内容相同")]),a._v("，增加了可靠性")]),a._v(" "),s("p",[s("img",{attrs:{src:e(432),alt:"image-20230629003534834"}})]),a._v(" "),s("p",[a._v("2）具体配置如下")]),a._v(" "),s("p",[a._v("（1）在hdfs-site.xml文件中添加如下内容")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("<property>\n     <name>dfs.namenode.name.dir</name>\n     <value>file://${hadoop.tmp.dir}/dfs/name1,file://${hadoop.tmp.dir}/dfs/name2</value>\n</property>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[s("strong",[a._v("注意：因为每台服务器节点的磁盘情况不同，所以这个配置配完之后，可以选择不分发")])]),a._v(" "),s("p",[a._v("（2）停止集群，删除三台节点的data和logs中所有数据。")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ rm -rf data/ logs/\n[atguigu@hadoop103 hadoop-3.1.3]$ rm -rf data/ logs/\n[atguigu@hadoop104 hadoop-3.1.3]$ rm -rf data/ logs/\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("（3）格式化集群并启动。")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ bin/hdfs namenode -format\n[atguigu@hadoop102 hadoop-3.1.3]$ sbin/start-dfs.sh\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("3）查看结果")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 dfs]$ ll\n总用量 12\ndrwx------. 3 atguigu atguigu 4096 12月 11 08:03 data\ndrwxrwxr-x. 3 atguigu atguigu 4096 12月 11 08:03 name1\ndrwxrwxr-x. 3 atguigu atguigu 4096 12月 11 08:03 name2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[s("strong",[a._v("检查name1和name2里面的内容，发现一模一样。")])]),a._v(" "),s("h2",{attrs:{id:"_3-2-datanode多目录配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-datanode多目录配置"}},[a._v("#")]),a._v(" 3.2 DataNode多目录配置")]),a._v(" "),s("p",[a._v("1）DataNode可以配置成多个目录，**每个目录存储的数据不一样（**数据不是副本）")]),a._v(" "),s("p",[s("img",{attrs:{src:e(433),alt:"image-20230629003732601"}})]),a._v(" "),s("p",[a._v("2）具体配置如下")]),a._v(" "),s("p",[a._v("在hdfs-site.xml文件中添加如下内容")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("<property>\n     <name>dfs.datanode.data.dir</name>\n     <value>file://${hadoop.tmp.dir}/dfs/data1,file://${hadoop.tmp.dir}/dfs/data2</value>\n</property>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("3）查看结果")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 dfs]$ ll\n总用量 12\ndrwx------. 3 atguigu atguigu 4096 4月   4 14:22 data1\ndrwx------. 3 atguigu atguigu 4096 4月   4 14:22 data2\ndrwxrwxr-x. 3 atguigu atguigu 4096 12月 11 08:03 name1\ndrwxrwxr-x. 3 atguigu atguigu 4096 12月 11 08:03 name2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("4）向集群上传一个文件，再次观察两个文件夹里面的内容发现不一致（一个有数一个没有）")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ hadoop fs -put wcinput/word.txt /\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"_3-3-集群数据均衡之磁盘间数据均衡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-集群数据均衡之磁盘间数据均衡"}},[a._v("#")]),a._v(" 3.3 集群数据均衡之磁盘间数据均衡")]),a._v(" "),s("p",[a._v("生产环境，由于硬盘空间不足，往往需要增加一块硬盘。刚加载的硬盘没有数据时，可以执行磁盘数据均衡命令。（Hadoop3.x新特性）")]),a._v(" "),s("blockquote",[s("p",[a._v("同一台主机")])]),a._v(" "),s("p",[s("img",{attrs:{src:e(434),alt:"image-20230629003850739"}})]),a._v(" "),s("p",[a._v("（1）生成均衡计划（"),s("strong",[a._v("我们只有一块磁盘，不会生成计划")]),a._v("）")]),a._v(" "),s("p",[a._v("（2）执行均衡计划")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("hdfs diskbalancer -execute hadoop103.plan.json\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("（3）查看当前均衡任务的执行情况")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("hdfs diskbalancer -query hadoop103\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("（4）取消均衡任务")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("hdfs diskbalancer -cancel hadoop103.plan.json\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h1",{attrs:{id:"第4章-hdfs-集群扩容及缩容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第4章-hdfs-集群扩容及缩容"}},[a._v("#")]),a._v(" 第4章 HDFS—集群扩容及缩容")]),a._v(" "),s("h2",{attrs:{id:"_4-1-添加白名单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-添加白名单"}},[a._v("#")]),a._v(" 4.1 添加白名单")]),a._v(" "),s("p",[a._v("白名单：表示在白名单的主机IP地址可以，用来存储数据。")]),a._v(" "),s("p",[a._v("企业中：配置白名单，可以尽量防止黑客恶意访问攻击。")]),a._v(" "),s("p",[s("img",{attrs:{src:e(435),alt:"image-20230630001204615"}})]),a._v(" "),s("p",[a._v("配置白名单步骤如下：")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("1）在NameNode节点的/opt/module/hadoop-3.1.3/etc/hadoop目录下分别创建whitelist 和blacklist文件")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("（1）创建白名单")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop]$ vim whitelist\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("在whitelist中添加如下主机名称，假如集群正常工作的节点为102 103")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("hadoop102\nhadoop103\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("（2）创建黑名单")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop]$ touch blacklist\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("保持空的就可以")])])])]),a._v(" "),s("li",[s("p",[a._v("2）在hdfs-site.xml配置文件中增加dfs.hosts配置参数")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("\x3c!-- 白名单 --\x3e\n<property>\n     <name>dfs.hosts</name>\n     <value>/opt/module/hadoop-3.1.3/etc/hadoop/whitelist</value>\n</property>\n\n\x3c!-- 黑名单 --\x3e\n<property>\n     <name>dfs.hosts.exclude</name>\n     <value>/opt/module/hadoop-3.1.3/etc/hadoop/blacklist</value>\n</property>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("3）分发配置文件whitelist，hdfs-site.xml")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop104 hadoop]$ xsync hdfs-site.xml whitelist\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("4）第一次添加白名单必须重启集群，不是第一次，只需要刷新NameNode节点即可")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ myhadoop.sh stop\n[atguigu@hadoop102 hadoop-3.1.3]$ myhadoop.sh start\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("5）在web浏览器上查看DN，http://hadoop102:9870/dfshealth.html#tab-datanode")]),a._v(" "),s("p",[s("img",{attrs:{src:e(436),alt:"image-20230630001510911"}})])]),a._v(" "),s("li",[s("p",[a._v("6）在hadoop104上执行上传数据数据失败")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop104 hadoop-3.1.3]$ hadoop fs -put NOTICE.txt /\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("7）二次修改白名单，增加hadoop104")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop]$ vim whitelist\n修改为如下内容\nhadoop102\nhadoop103\nhadoop104\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("8）刷新NameNode")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ hdfs dfsadmin -refreshNodes\nRefresh nodes successful\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("9）在web浏览器上查看DN，http://hadoop102:9870/dfshealth.html#tab-datanode")])])]),a._v(" "),s("p",[s("img",{attrs:{src:e(437),alt:"image-20230630001627630"}})]),a._v(" "),s("h2",{attrs:{id:"_4-2-服役新服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-服役新服务器"}},[a._v("#")]),a._v(" 4.2 服役新服务器")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("1）需求")]),a._v(" "),s("p",[a._v("随着公司业务的增长，数据量越来越大，原有的数据节点的容量已经不能满足存储数据的需求，需要在原有集群基础上动态添加新的数据节点。")])]),a._v(" "),s("li",[s("p",[a._v("2）环境准备")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("（1）在hadoop100主机上再克隆一台hadoop105主机")])]),a._v(" "),s("li",[s("p",[a._v("（2）修改IP地址和主机名称")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[root@hadoop105 ~]# vim /etc/sysconfig/network-scripts/ifcfg-ens33\n[root@hadoop105 ~]# vim /etc/hostname\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("（3）拷贝hadoop102的/opt/module目录和/etc/profile.d/my_env.sh到hadoop105")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 opt]$ scp -r module/* atguigu@hadoop105:/opt/module/\n\n[atguigu@hadoop102 opt]$ sudo scp /etc/profile.d/my_env.sh root@hadoop105:/etc/profile.d/my_env.sh\n\n[atguigu@hadoop105 hadoop-3.1.3]$ source /etc/profile\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("（4）删除hadoop105上Hadoop的历史数据，data和log数据")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop105 hadoop-3.1.3]$ rm -rf data/ logs/\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("（5）配置hadoop102和hadoop103到hadoop105的ssh无密登录")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 .ssh]$ ssh-copy-id hadoop105\n\n[atguigu@hadoop103 .ssh]$ ssh-copy-id hadoop105\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])])])])]),a._v(" "),s("li",[s("p",[a._v("3）服役新节点具体步骤")]),a._v(" "),s("ul",[s("li",[a._v("（1）直接启动DataNode，即可关联到集群")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop105 hadoop-3.1.3]$ hdfs --daemon start datanode\n[atguigu@hadoop105 hadoop-3.1.3]$ yarn --daemon start nodemanager\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[s("img",{attrs:{src:e(438),alt:"image-20230630001941619"}})])]),a._v(" "),s("li",[s("p",[a._v("4）在白名单中增加新服役的服务器")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("（1）在白名单whitelist中增加hadoop104、hadoop105，并重启集群")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v(" [atguigu@hadoop102 hadoop]$ vim whitelist\n 修改为如下内容\n hadoop102\n hadoop103\n hadoop104\n hadoop105\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("（2）分发")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop]$ xsync whitelist\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("（3）刷新NameNode")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ hdfs dfsadmin -refreshNodes\nRefresh nodes successful\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])])])])]),a._v(" "),s("li",[s("p",[a._v("5）在hadoop105上上传文件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop105 hadoop-3.1.3]$ hadoop fs -put /opt/module/hadoop-3.1.3/LICENSE.txt /\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:e(439),alt:"image-20230630002144148"}})]),a._v(" "),s("p",[a._v("思考：如果数据不均衡（hadoop105数据少，其他节点数据多），怎么处理？")])])]),a._v(" "),s("h2",{attrs:{id:"_4-3-服务器间数据均衡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-服务器间数据均衡"}},[a._v("#")]),a._v(" 4.3 服务器间数据均衡")]),a._v(" "),s("ul",[s("li",[a._v("1）企业经验：")])]),a._v(" "),s("p",[a._v("在企业开发中，如果经常在hadoop102和hadoop104上提交任务，且副本数为2，由于数据本地性原则，就会导致hadoop102和hadoop104数据过多，hadoop103存储的数据量小。")]),a._v(" "),s("p",[a._v("另一种情况，就是新服役的服务器数据量比较少，需要执行集群均衡命令。")]),a._v(" "),s("p",[s("img",{attrs:{src:e(440),alt:"image-20230630002306206"}})]),a._v(" "),s("ul",[s("li",[s("p",[a._v("2）开启数据均衡命令：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop105 hadoop-3.1.3]$ sbin/start-balancer.sh -threshold 10\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("对于参数10，代表的是集群中各个节点的磁盘空间利用率相差不超过10%，可根据实际情况进行调整")])]),a._v(" "),s("li",[s("p",[a._v("3）停止数据均衡命令：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop105 hadoop-3.1.3]$ sbin/stop-balancer.sh\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("blockquote",[s("p",[a._v("注意：由于HDFS需要启动单独的Rebalance Server来执行Rebalance操作，"),s("a",{attrs:{href:"http://xn--NameNodestart-balancer-sy68a2bx05ag98dux2afg9ay6af924fm2hzl3e.sh",target:"_blank",rel:"noopener noreferrer"}},[a._v("所以尽量不要在NameNode上执行start-balancer.sh"),s("OutboundLink")],1),a._v("，而是找一台比较空闲的机器。")])]),a._v(" "),s("h2",{attrs:{id:"_4-4-黑名单退役服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-黑名单退役服务器"}},[a._v("#")]),a._v(" 4.4 黑名单退役服务器")]),a._v(" "),s("p",[a._v("黑名单：表示在黑名单的主机IP地址不可以，用来存储数据。")]),a._v(" "),s("p",[a._v("企业中：配置黑名单，用来退役服务器。")]),a._v(" "),s("p",[s("img",{attrs:{src:e(441),alt:"image-20230630002451232"}})]),a._v(" "),s("p",[a._v("黑名单配置步骤如下：")])]),a._v(" "),s("li",[s("p",[a._v("1）编辑/opt/module/hadoop-3.1.3/etc/hadoop目录下的blacklist文件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop] vim blacklist\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("添加如下主机名称（要退役的节点）")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("hadoop105\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("blockquote",[s("p",[a._v("注意：如果白名单中没有配置，需要在hdfs-site.xml配置文件中增加dfs.hosts配置参数")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("\x3c!-- 黑名单 --\x3e\n<property>\n     <name>dfs.hosts.exclude</name>\n     <value>/opt/module/hadoop-3.1.3/etc/hadoop/blacklist</value>\n</property>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("2）分发配置文件blacklist，hdfs-site.xml")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop104 hadoop]$ xsync hdfs-site.xml blacklist\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("3）第一次添加黑名单必须重启集群，不是第一次，只需要刷新NameNode节点即可")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ hdfs dfsadmin -refreshNodes\nRefresh nodes successful\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("4）检查Web浏览器，退役节点的状态为decommission in progress（退役中），说明数据节点正在复制块到其他节点")]),a._v(" "),s("p",[s("img",{attrs:{src:e(442),alt:"image-20230630002721564"}})]),a._v(" "),s("p",[s("img",{attrs:{src:e(443),alt:"image-20230630002726789"}})])]),a._v(" "),s("li",[s("p",[a._v("5）等待退役节点状态为decommissioned（所有块已经复制完成），停止该节点及节点资源管理器。注意：如果副本数是3，服役的节点小于等于3，是不能退役成功的，需要修改副本数后才能退役")]),a._v(" "),s("p",[s("img",{attrs:{src:e(444),alt:"image-20230630002746276"}})]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop105 hadoop-3.1.3]$ hdfs --daemon stop datanode\nstopping datanode\n[atguigu@hadoop105 hadoop-3.1.3]$ yarn --daemon stop nodemanager\nstopping nodemanager\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("6）如果数据不均衡，可以用命令实现集群的再平衡")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ sbin/start-balancer.sh -threshold 10\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])]),a._v(" "),s("h1",{attrs:{id:"第5章-hdfs-存储优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第5章-hdfs-存储优化"}},[a._v("#")]),a._v(" 第5章 HDFS—存储优化")]),a._v(" "),s("blockquote",[s("p",[a._v("注：演示纠删码和异构存储需要一共5台虚拟机。尽量拿另外一套集群。提前准备5台服务器的集群。")])]),a._v(" "),s("h2",{attrs:{id:"_5-1-纠删码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-纠删码"}},[a._v("#")]),a._v(" 5.1 纠删码")]),a._v(" "),s("h3",{attrs:{id:"_5-1-1-纠删码原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-1-纠删码原理"}},[a._v("#")]),a._v(" 5.1.1 纠删码原理")]),a._v(" "),s("p",[a._v("HDFS默认情况下，一个文件有3个副本，这样提高了数据的可靠性，但也带来了2倍的冗余开销。Hadoop3.x引入了纠删码，采用计算的方式，可以节省约50％左右的存储空间。")]),a._v(" "),s("p",[s("img",{attrs:{src:e(445),alt:"image-20230630002921587"}})]),a._v(" "),s("ul",[s("li",[s("p",[a._v("1）纠删码操作相关的命令")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3]$ hdfs ec\nUsage: bin/hdfs ec [COMMAND]\n          [-listPolicies]\n          [-addPolicies -policyFile <file>]\n          [-getPolicy -path <path>]\n          [-removePolicy -policy <policy>]\n          [-setPolicy -path <path> [-policy <policy>] [-replicate]]\n          [-unsetPolicy -path <path>]\n          [-listCodecs]\n          [-enablePolicy -policy <policy>]\n          [-disablePolicy -policy <policy>]\n          [-help <command-name>].\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("2）查看当前支持的纠删码策略")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[atguigu@hadoop102 hadoop-3.1.3] hdfs ec -listPolicies\n\nErasure Coding Policies:\nErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5], State=DISABLED\n\nErasureCodingPolicy=[Name=RS-3-2-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=3, numParityUnits=2]], CellSize=1048576, Id=2], State=DISABLED\n\nErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1], State=ENABLED\n \nErasureCodingPolicy=[Name=RS-LEGACY-6-3-1024k, Schema=[ECSchema=[Codec=rs-legacy, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=3], State=DISABLED\n\nErasureCodingPolicy=[Name=XOR-2-1-1024k, Schema=[ECSchema=[Codec=xor, numDataUnits=2, numParityUnits=1]], CellSize=1048576, Id=4], State=DISABLED\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("3）纠删码策略解释:")]),a._v(" "),s("ul",[s("li",[a._v("RS-3-2-1024k：使用RS编码，每3个数据单元，生成2个校验单元，共5个单元，也就是说：这5个单元中，只要有任意的3个单元存在（不管是数据单元还是校验单元，只要总数=3），就可以得到原始数据。每个单元的大小是1024k=1024*1024=1048576。")])]),a._v(" "),s("p",[s("img",{attrs:{src:e(446),alt:"image-20230630003116899"}})]),a._v(" "),s("ul",[s("li",[s("p",[a._v("RS-10-4-1024k：使用RS编码，每10个数据单元（cell），生成4个校验单元，共14个单元，也就是说：这14个单元中，只要有任意的10个单元存在（不管是数据单元还是校验单元，只要总数=10），就可以得到原始数据。每个单元的大小是1024k=1024*1024=1048576。")])]),a._v(" "),s("li",[s("p",[a._v("RS-6-3-1024k：使用RS编码，每6个数据单元，生成3个校验单元，共9个单元，也就是说：这9个单元中，只要有任意的6个单元存在（不管是数据单元还是校验单元，只要总数=6），就可以得到原始数据。每个单元的大小是1024k=1024*1024=1048576。")])]),a._v(" "),s("li",[s("p",[a._v("RS-LEGACY-6-3-1024k：策略和上面的RS-6-3-1024k一样，只是编码的算法用的是rs-legacy。")])]),a._v(" "),s("li",[s("p",[a._v("XOR-2-1-1024k：使用XOR编码（速度比RS编码快），每2个数据单元，生成1个校验单元，共3个单元，也就是说：这3个单元中，只要有任意的2个单元存在（不管是数据单元还是校验单元，只要总数= 2），就可以得到原始数据。每个单元的大小是1024k=1024*1024=1048576。")])])])])]),a._v(" "),s("h3",{attrs:{id:"_5-1-2-纠删码案例实操"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-2-纠删码案例实操"}},[a._v("#")]),a._v(" 5.1.2 纠删码案例实操")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("![image-20230630003205173](../.vuepress/public/Hadoop/image-20230630003205173.png)\n")])])]),s("p",[a._v("纠删码策略是给"),s("strong",[a._v("具体一个路径设置")]),a._v("。所有往此路径下存储的文件，都会执行此策略。")]),a._v(" "),s("blockquote",[s("p",[s("strong",[a._v("默认只开启对RS-6-3-1024k策略的支")]),a._v("持，如要使用别的策略需要提前启用。")])]),a._v(" "),s("ul",[s("li",[a._v("1）需求：将/input目录设置为RS-3-2-1024k策略")]),a._v(" "),s("li",[a._v("2）具体步骤")])])])}),[],!1,null,null,null);s.default=n.exports}}]);