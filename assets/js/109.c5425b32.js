(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{942:function(e,n,t){"use strict";t.r(n);var a=t(4),s=Object(a.a)({},(function(){var e=this,n=e._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("blockquote",[n("p",[e._v("打开 nginx 的目录功能，可以使 nginx 像下载服务器那样提供文件下载功能。")])]),e._v(" "),n("h2",{attrs:{id:"开启方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开启方法"}},[e._v("#")]),e._v(" 开启方法")]),e._v(" "),n("p",[e._v("官方地址：https://nginx.org/en/docs/http/ngx_http_autoindex_module.html")]),e._v(" "),n("p",[e._v("正常访问 nginx 的话是显示 nginx 欢迎页，也就是/nginx/html/index.html 文件；如果要显示/html/目录下所有的文件，需要打开目录文件列表显示；在 nginx.conf 主配置文件中 http 或 location 代码段中，配置一段代码即可实现：")]),e._v(" "),n("p",[e._v("代码如下：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("  location / {\n    alias   /some-dir;\n    # default_type  application/octet-stream;\n    autoindex on;\n    autoindex_exact_size off;\n    autoindex_localtime on;\n    # add_header Content-Type text/html;\n    # add_before_body /autoindex/header.html;\n    # add_after_body /autoindex/footer.html;\n  }\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br")])]),n("p",[e._v("参数说明：")]),e._v(" "),n("ul",[n("li",[n("p",[n("code",[e._v("autoindex on;")]),e._v(" 自动显示目录")])]),e._v(" "),n("li",[n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("autoindex_exact_size off;\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("默认为 on，显示出文件的确切大小，单位是 bytes")]),e._v(" "),n("ul",[n("li",[e._v("改为 off 后，显示出文件的大概大小，单位是 kB 或者 MB 或者 GB")])])]),e._v(" "),n("li",[n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("autoindex_localtime on;\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("默认为 off，显示的文件时间为 GMT 时间")]),e._v(" "),n("ul",[n("li",[e._v("改为 on 后，显示的文件时间为文件的服务器时间")])])]),e._v(" "),n("li",[n("p",[e._v("扩展")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("add_header")]),e._v("、"),n("code",[e._v("add_before_body")]),e._v("、"),n("code",[e._v("add_after_body")]),e._v(" 可以定制文件列表")])])])])])}),[],!1,null,null,null);n.default=s.exports}}]);