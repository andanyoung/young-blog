(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{1093:function(a,s,n){"use strict";n.r(s);var e=n(4),t=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("https://www.modb.pro/db/133161")]),a._v(" "),s("p",[a._v("https://www.cnblogs.com/jhxxb/p/10765815.html")]),a._v(" "),s("h1",{attrs:{id:"为什么要编译-hadoop-源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么要编译-hadoop-源码"}},[a._v("#")]),a._v(" "),s("strong",[a._v("为什么要编译 Hadoop 源码？")])]),a._v(" "),s("p",[s("strong",[a._v("Hadoop 主要是基于 Java 语言所编写的，但有也部分需求和功能并不适合 Java 代码开发，所以这部分内容就基于 C++代码去开发，于是就引出了 Native Libraries 概念，我们知道 Java 语言去调用 C++代码是基于 JNI 的方式去调用的，Java 去调用本地的 C++代码打包好的本地库(NativeLibraries)文件去运行。但由于 Linux 系统的本地库文件为.so 格式，而 Windows 的本地库文件格式为 dll")]),a._v("，所以为了适应不同操作系统的架构，我们需要进行重新编译下 Hadoop 的源代码。")]),a._v(" "),s("p",[a._v("下面是编译结果。")]),a._v(" "),s("p",[s("img",{attrs:{src:n(499),alt:"image-20230613224114892"}})]),a._v(" "),s("p",[a._v("最重要的是"),s("code",[a._v("hadoop.dll")]),a._v("和"),s("code",[a._v("winutils.exe")]),a._v("两个文件,没有这两个文件 hadoop 运行会报错")]),a._v(" "),s("p",[a._v("缺少"),s("code",[a._v("winutils.exe")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("java.io.FileNotFoundException: Could not locate Hadoop executable: F:\\Program Files\\hadoop-3.3.0\\bin\\winutils.exe -see https://wiki.apache.org/hadoop/WindowsProblems\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("缺少"),s("code",[a._v("hadoop.dll")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("WARN [org.apache.hadoop.util.NativeCodeLoader] - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n2023-06-13 22:46:08,580 WARN [org.apache.hadoop.metrics2.impl.MetricsConfig] - Cannot locate configuration: tried hadoop-metrics2-jobtracker.properties,hadoop-metrics2.properties\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('Exception in thread "main" java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"接下来-我们来编译-hadoop-源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接下来-我们来编译-hadoop-源码"}},[a._v("#")]),a._v(" "),s("strong",[a._v("接下来，我们来编译 Hadoop 源码")])]),a._v(" "),s("blockquote",[s("p",[a._v("下载源码")])]),a._v(" "),s("p",[a._v("源码下载地址（Source download）："),s("a",{attrs:{href:"https://hadoop.apache.org/releases.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://hadoop.apache.org/releases.html"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("不同版本下载 "),s("a",{attrs:{href:"https://archive.apache.org/dist/hadoop/core/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://archive.apache.org/dist/hadoop/core/"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("这里以 3.3.0 为例，查看源码中的编译说明文件 "),s("strong",[a._v("BUILDING.txt")]),a._v("，截取 windows 部分")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("----------------------------------------------------------------------------------\n\nBuilding on Windows\n\n----------------------------------------------------------------------------------\nRequirements:\n\n* Windows System\n* JDK 1.8\n* Maven 3.0 or later\n* Protocol Buffers 3.7.1\n* CMake 3.1 or newer\n* Visual Studio 2010 Professional or Higher\n* Windows SDK 8.1 (if building CPU rate control for the container executor)\n* zlib headers (if building native code bindings for zlib)\n* Internet connection for first build (to fetch all Maven and Hadoop dependencies)\n* Unix command-line tools from GnuWin32: sh, mkdir, rm, cp, tar, gzip. These\n  tools must be present on your PATH.\n* Python ( for generation of docs using 'mvn site')\n\nUnix command-line tools are also included with the Windows Git package which\ncan be downloaded from http://git-scm.com/downloads\n\nIf using Visual Studio, it must be Professional level or higher.\nDo not use Visual Studio Express.  It does not support compiling for 64-bit,\nwhich is problematic if running a 64-bit system.\n\nThe Windows SDK 8.1 is available to download at:\n\nhttp://msdn.microsoft.com/en-us/windows/bg162891.aspx\n\nCygwin is not required.\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br")])]),s("h1",{attrs:{id:"环境准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[a._v("#")]),a._v(" 环境准备")]),a._v(" "),s("h2",{attrs:{id:"_1-jdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-jdk"}},[a._v("#")]),a._v(" "),s("strong",[a._v("1.JDK")])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# 设置系统环境变量\nsetx /M JAVA_HOME "D:\\hadoop\\jdk1.8.0_192"\nsetx /M Path "%Path%;%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin"\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("验证")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('cmd验证：\n\tjava -version\n结果：\n    java version "1.8.0_261"\n    Java(TM) SE Runtime Environment (build 1.8.0_261-b12)\n    Java HotSpot(TM) 64-Bit Server VM (build 25.261-b12, mixed mode)\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h2",{attrs:{id:"_2-maven"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-maven"}},[a._v("#")]),a._v(" "),s("strong",[a._v("2.Maven")])]),a._v(" "),s("p",[s("a",{attrs:{href:"http://maven.apache.org/download.cgi",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://maven.apache.org/download.cgi"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://archive.apache.org/dist/maven/maven-3/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://archive.apache.org/dist/maven/maven-3/"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# 设置系统环境变量\nsetx /M M2_HOME "D:\\hadoop\\apache-maven-3.6.1"\nsetx /M Path "%Path%;%M2_HOME%\\bin"\n\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("conf\\settings.xml 仓库配置")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("\x3c!-- 本地仓库路径 --\x3e\n<localRepository>D:\\hadoop\\repo</localRepository>\n\n\x3c!-- 网络仓库地址 --\x3e\n<mirrors>\n    <mirror>\n        <id>central</id>\n        <mirrorOf>central</mirrorOf>\n        <name>aliyunmaven</name>\n        <url>https://maven.aliyun.com/repository/central</url>\n    </mirror>\n    <mirror>\n        <id>apache.snapshots.https</id>\n        <mirrorOf>apache.snapshots.https</mirrorOf>\n        <name>aliyunmaven</name>\n        <url>https://maven.aliyun.com/repository/apache-snapshots</url>\n    </mirror>\n</mirrors>\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br")])]),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("cmd验证：\n\tmvn "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-version")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"_3-protocolbuffer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-protocolbuffer"}},[a._v("#")]),a._v(" "),s("strong",[a._v("3.ProtocolBuffer")])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/protocolbuffers/protobuf/releases/tag/v3.23.1",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/protocolbuffers/protobuf/releases/tag/v3.23.1"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("注：除了下载 protobuf 源码外，还需要下载相应版本的编译过的用于 Windows  平台的 protoc 命令（protoc-2.5.0-win32.zip）, 该命令用于将 .proto 文件转化为 Java 或 C++ 源文件。")]),a._v(" "),s("p",[a._v("将两个压缩包解压，然后将 protoc.exe 复制到 protobuf-2.5.0\\src 目录下")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# 安装 ProtocolBuffer\ncd D:\\hadoop\\protobuf-2.5.0\\java\nmvn test\nmvn install\n\n# 设置系统环境变量\nsetx /M Path "%Path%;D:\\hadoop\\protobuf-2.5.0\\src"\n\ncmd验证：\n\tprotoc --version\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])]),s("p",[a._v("遇见问题")]),a._v(" "),s("p",[a._v("https://github.com/protocolbuffers/protobuf/issues/7313")]),a._v(" "),s("h2",{attrs:{id:"_4-cmake"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-cmake"}},[a._v("#")]),a._v(" "),s("strong",[a._v("4.CMake")])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://cmake.org/download/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://cmake.org/download/"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# 设置系统环境变量\nsetx /M Path "%Path%;D:\\hadoop\\cmake-3.14.3-win64-x64\\bin"\n\ncmd验证：\n\tcmake --version\n结果：\ncmake version 3.19.4\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("h2",{attrs:{id:"_5-visual-studio-2010-professional"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-visual-studio-2010-professional"}},[a._v("#")]),a._v(" "),s("strong",[a._v("5.Visual Studio 2010 Professional")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("文件名     cn_visual_studio_2010_professional_x86_dvd_532145.iso\nSHA1　　　 33D323446131AB9565082D65C9C380BBD7FF228F\n文件大小   2.41GB\n发布时间   2010-05-26\n\ned2k://|file|cn_visual_studio_2010_professional_x86_dvd_532145.iso|2591844352|6001253431AFE573E4344F5A0B1D9CAC|/\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("p",[s("img",{attrs:{src:n(500),alt:""}})]),a._v(" "),s("h2",{attrs:{id:"_6-安装-getgnuwin32-并配置环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-安装-getgnuwin32-并配置环境变量"}},[a._v("#")]),a._v(" 6. 安装 GetGnuWin32 并配置环境变量")]),a._v(" "),s("h2",{attrs:{id:"_7-zlib"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-zlib"}},[a._v("#")]),a._v(" "),s("strong",[a._v("7.Zlib")])]),a._v(" "),s("p",[s("a",{attrs:{href:"http://www.zlib.net/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://www.zlib.net/"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("使用 MSVC 方式编译，打开开始菜单，在  Microsoft Visual Studio 2010 下找到  "),s("strong",[a._v("Visual Studio x64 Win64 命令提示 (2010)")]),a._v("，用管理员身份运行")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd D:\\hadoop\\zlib-1.2.11\nnmake -f win32/Makefile.msc\n\n# 编译完成后在该目录下可看到 zlib1.dll 文件\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("设置系统环境变量")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('setx /M ZLIB_HOME "D:\\hadoop\\zlib-1.2.11"\n\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"_8-git-需要-bash-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-git-需要-bash-命令"}},[a._v("#")]),a._v(" "),s("strong",[a._v("8.Git（需要 bash 命令）")])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://git-scm.com/download/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://git-scm.com/download/"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# 设置系统环境变量\nsetx /M Path "%Path%;D:\\hadoop\\PortableGit\\bin"\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h1",{attrs:{id:"编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译"}},[a._v("#")]),a._v(" 编译")]),a._v(" "),s("p",[s("strong",[a._v("1. 设置 Platform")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('setx /M Platform "x64"\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("strong",[a._v("2. 解压源码，开始编译")])]),a._v(" "),s("p",[a._v("打开开始菜单，在  Microsoft Visual Studio 2010 下找到  "),s("strong",[a._v("Visual Studio x64 Win64 命令提示 (2010)")]),a._v("，用管理员身份运行")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Visual Studio 2022\\Visual Studio Tools\\VC\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd D:\\hadoop\\hadoop-3.3.0-src\nmvn package -Pdist,native-win -DskipTests -Dtar\n\n# 编译完成后，编译好的文件在目录 hadoop-3.3.0-src\\hadoop-dist\\target\\ 中\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("编译失败时多编译几次，或自己更换下 Maven 源再试，一些依赖的下载不是很稳定。附上编译成功的日志")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[INFO] Reactor Summary for Apache Hadoop Main 3.3.0:\n[INFO]\n[INFO] Apache Hadoop Main ................................. SUCCESS [ 39.854 s]\n[INFO] Apache Hadoop Build Tools .......................... SUCCESS [ 35.664 s]\n[INFO] Apache Hadoop Project POM .......................... SUCCESS [ 13.814 s]\n[INFO] Apache Hadoop Annotations .......................... SUCCESS [ 13.440 s]\n[INFO] Apache Hadoop Assemblies ........................... SUCCESS [  0.205 s]\n[INFO] Apache Hadoop Project Dist POM ..................... SUCCESS [ 28.307 s]\n[INFO] Apache Hadoop Maven Plugins ........................ SUCCESS [ 26.019 s]\n[INFO] Apache Hadoop MiniKDC .............................. SUCCESS [07:47 min]\n[INFO] Apache Hadoop Auth ................................. SUCCESS [03:03 min]\n[INFO] Apache Hadoop Auth Examples ........................ SUCCESS [  4.259 s]\n[INFO] Apache Hadoop Common ............................... SUCCESS [10:30 min]\n[INFO] Apache Hadoop NFS .................................. SUCCESS [  3.421 s]\n[INFO] Apache Hadoop KMS .................................. SUCCESS [01:23 min]\n[INFO] Apache Hadoop Common Project ....................... SUCCESS [  0.064 s]\n[INFO] Apache Hadoop HDFS Client .......................... SUCCESS [01:11 min]\n[INFO] Apache Hadoop HDFS ................................. SUCCESS [01:45 min]\n[INFO] Apache Hadoop HDFS Native Client ................... SUCCESS [  3.279 s]\n[INFO] Apache Hadoop HttpFS ............................... SUCCESS [ 29.455 s]\n[INFO] Apache Hadoop HDFS BookKeeper Journal .............. SUCCESS [ 23.094 s]\n[INFO] Apache Hadoop HDFS-NFS ............................. SUCCESS [  2.839 s]\n[INFO] Apache Hadoop HDFS-RBF ............................. SUCCESS [ 12.846 s]\n[INFO] Apache Hadoop HDFS Project ......................... SUCCESS [  0.044 s]\n[INFO] Apache Hadoop YARN ................................. SUCCESS [  0.044 s]\n[INFO] Apache Hadoop YARN API ............................. SUCCESS [  8.375 s]\n[INFO] Apache Hadoop YARN Common .......................... SUCCESS [04:12 min]\n[INFO] Apache Hadoop YARN Registry ........................ SUCCESS [  3.536 s]\n[INFO] Apache Hadoop YARN Server .......................... SUCCESS [  0.050 s]\n[INFO] Apache Hadoop YARN Server Common ................... SUCCESS [ 32.678 s]\n[INFO] Apache Hadoop YARN NodeManager ..................... SUCCESS [ 10.878 s]\n[INFO] Apache Hadoop YARN Web Proxy ....................... SUCCESS [  2.167 s]\n[INFO] Apache Hadoop YARN ApplicationHistoryService ....... SUCCESS [01:36 min]\n[INFO] Apache Hadoop YARN Timeline Service ................ SUCCESS [ 14.856 s]\n[INFO] Apache Hadoop YARN ResourceManager ................. SUCCESS [ 21.482 s]\n[INFO] Apache Hadoop YARN Server Tests .................... SUCCESS [  0.589 s]\n[INFO] Apache Hadoop YARN Client .......................... SUCCESS [  3.674 s]\n[INFO] Apache Hadoop YARN SharedCacheManager .............. SUCCESS [  2.209 s]\n[INFO] Apache Hadoop YARN Timeline Plugin Storage ......... SUCCESS [  1.911 s]\n[INFO] Apache Hadoop YARN Router .......................... SUCCESS [  3.163 s]\n[INFO] Apache Hadoop YARN TimelineService HBase Backend ... SUCCESS [02:35 min]\n[INFO] Apache Hadoop YARN Timeline Service HBase tests .... SUCCESS [01:36 min]\n[INFO] Apache Hadoop YARN Applications .................... SUCCESS [  0.045 s]\n[INFO] Apache Hadoop YARN DistributedShell ................ SUCCESS [  1.792 s]\n[INFO] Apache Hadoop YARN Unmanaged Am Launcher ........... SUCCESS [  1.213 s]\n[INFO] Apache Hadoop YARN Site ............................ SUCCESS [  0.042 s]\n[INFO] Apache Hadoop YARN UI .............................. SUCCESS [  0.045 s]\n[INFO] Apache Hadoop YARN Project ......................... SUCCESS [  5.462 s]\n[INFO] Apache Hadoop MapReduce Client ..................... SUCCESS [  0.134 s]\n[INFO] Apache Hadoop MapReduce Core ....................... SUCCESS [ 23.516 s]\n[INFO] Apache Hadoop MapReduce Common ..................... SUCCESS [ 13.747 s]\n[INFO] Apache Hadoop MapReduce Shuffle .................... SUCCESS [  2.323 s]\n[INFO] Apache Hadoop MapReduce App ........................ SUCCESS [  6.160 s]\n[INFO] Apache Hadoop MapReduce HistoryServer .............. SUCCESS [  4.593 s]\n[INFO] Apache Hadoop MapReduce JobClient .................. SUCCESS [  2.615 s]\n[INFO] Apache Hadoop MapReduce HistoryServer Plugins ...... SUCCESS [  1.280 s]\n[INFO] Apache Hadoop MapReduce Examples ................... SUCCESS [  4.254 s]\n[INFO] Apache Hadoop MapReduce ............................ SUCCESS [  2.127 s]\n[INFO] Apache Hadoop MapReduce Streaming .................. SUCCESS [ 13.367 s]\n[INFO] Apache Hadoop Distributed Copy ..................... SUCCESS [  5.503 s]\n[INFO] Apache Hadoop Archives ............................. SUCCESS [  1.260 s]\n[INFO] Apache Hadoop Archive Logs ......................... SUCCESS [  1.315 s]\n[INFO] Apache Hadoop Rumen ................................ SUCCESS [  3.355 s]\n[INFO] Apache Hadoop Gridmix .............................. SUCCESS [  2.324 s]\n[INFO] Apache Hadoop Data Join ............................ SUCCESS [  1.477 s]\n[INFO] Apache Hadoop Ant Tasks ............................ SUCCESS [  1.219 s]\n[INFO] Apache Hadoop Extras ............................... SUCCESS [  1.615 s]\n[INFO] Apache Hadoop Pipes ................................ SUCCESS [  0.040 s]\n[INFO] Apache Hadoop OpenStack support .................... SUCCESS [  2.513 s]\n[INFO] Apache Hadoop Amazon Web Services support .......... SUCCESS [06:23 min]\n[INFO] Apache Hadoop Azure support ........................ SUCCESS [ 46.260 s]\n[INFO] Apache Hadoop Aliyun OSS support ................... SUCCESS [01:14 min]\n[INFO] Apache Hadoop Client ............................... SUCCESS [  5.923 s]\n[INFO] Apache Hadoop Mini-Cluster ......................... SUCCESS [  0.596 s]\n[INFO] Apache Hadoop Scheduler Load Simulator ............. SUCCESS [  4.338 s]\n[INFO] Apache Hadoop Resource Estimator Service ........... SUCCESS [01:43 min]\n[INFO] Apache Hadoop Azure Data Lake support .............. SUCCESS [ 30.751 s]\n[INFO] Apache Hadoop Tools Dist ........................... SUCCESS [ 13.557 s]\n[INFO] Apache Hadoop Tools ................................ SUCCESS [  0.047 s]\n[INFO] Apache Hadoop Distribution ......................... SUCCESS [ 47.214 s]\n[INFO] Apache Hadoop Cloud Storage ........................ SUCCESS [  0.554 s]\n[INFO] Apache Hadoop Cloud Storage Project ................ SUCCESS [  0.049 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  55:18 min\n[INFO] Finished at: 2019-04-25T22:47:26+08:00\n[INFO] ------------------------------------------------------------------------\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br"),s("span",{staticClass:"line-number"},[a._v("39")]),s("br"),s("span",{staticClass:"line-number"},[a._v("40")]),s("br"),s("span",{staticClass:"line-number"},[a._v("41")]),s("br"),s("span",{staticClass:"line-number"},[a._v("42")]),s("br"),s("span",{staticClass:"line-number"},[a._v("43")]),s("br"),s("span",{staticClass:"line-number"},[a._v("44")]),s("br"),s("span",{staticClass:"line-number"},[a._v("45")]),s("br"),s("span",{staticClass:"line-number"},[a._v("46")]),s("br"),s("span",{staticClass:"line-number"},[a._v("47")]),s("br"),s("span",{staticClass:"line-number"},[a._v("48")]),s("br"),s("span",{staticClass:"line-number"},[a._v("49")]),s("br"),s("span",{staticClass:"line-number"},[a._v("50")]),s("br"),s("span",{staticClass:"line-number"},[a._v("51")]),s("br"),s("span",{staticClass:"line-number"},[a._v("52")]),s("br"),s("span",{staticClass:"line-number"},[a._v("53")]),s("br"),s("span",{staticClass:"line-number"},[a._v("54")]),s("br"),s("span",{staticClass:"line-number"},[a._v("55")]),s("br"),s("span",{staticClass:"line-number"},[a._v("56")]),s("br"),s("span",{staticClass:"line-number"},[a._v("57")]),s("br"),s("span",{staticClass:"line-number"},[a._v("58")]),s("br"),s("span",{staticClass:"line-number"},[a._v("59")]),s("br"),s("span",{staticClass:"line-number"},[a._v("60")]),s("br"),s("span",{staticClass:"line-number"},[a._v("61")]),s("br"),s("span",{staticClass:"line-number"},[a._v("62")]),s("br"),s("span",{staticClass:"line-number"},[a._v("63")]),s("br"),s("span",{staticClass:"line-number"},[a._v("64")]),s("br"),s("span",{staticClass:"line-number"},[a._v("65")]),s("br"),s("span",{staticClass:"line-number"},[a._v("66")]),s("br"),s("span",{staticClass:"line-number"},[a._v("67")]),s("br"),s("span",{staticClass:"line-number"},[a._v("68")]),s("br"),s("span",{staticClass:"line-number"},[a._v("69")]),s("br"),s("span",{staticClass:"line-number"},[a._v("70")]),s("br"),s("span",{staticClass:"line-number"},[a._v("71")]),s("br"),s("span",{staticClass:"line-number"},[a._v("72")]),s("br"),s("span",{staticClass:"line-number"},[a._v("73")]),s("br"),s("span",{staticClass:"line-number"},[a._v("74")]),s("br"),s("span",{staticClass:"line-number"},[a._v("75")]),s("br"),s("span",{staticClass:"line-number"},[a._v("76")]),s("br"),s("span",{staticClass:"line-number"},[a._v("77")]),s("br"),s("span",{staticClass:"line-number"},[a._v("78")]),s("br"),s("span",{staticClass:"line-number"},[a._v("79")]),s("br"),s("span",{staticClass:"line-number"},[a._v("80")]),s("br"),s("span",{staticClass:"line-number"},[a._v("81")]),s("br"),s("span",{staticClass:"line-number"},[a._v("82")]),s("br"),s("span",{staticClass:"line-number"},[a._v("83")]),s("br"),s("span",{staticClass:"line-number"},[a._v("84")]),s("br"),s("span",{staticClass:"line-number"},[a._v("85")]),s("br"),s("span",{staticClass:"line-number"},[a._v("86")]),s("br"),s("span",{staticClass:"line-number"},[a._v("87")]),s("br"),s("span",{staticClass:"line-number"},[a._v("88")]),s("br"),s("span",{staticClass:"line-number"},[a._v("89")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://img2018.cnblogs.com/blog/1595409/201904/1595409-20190425225042911-319960765.png",alt:""}})]),a._v(" "),s("p",[s("strong",[s("a",{attrs:{href:"https://www.zybuluo.com/ncepuwanghui/note/343755",target:"_blank",rel:"noopener noreferrer"}},[a._v("Windows 10 编译 Hadoop 2.6.0 源码 - 作业部落 Cmd Markdown 编辑阅读器"),s("OutboundLink")],1),a._v(" （"),s("a",{attrs:{href:"http://cache.baiducontent.com/c?m=9f65cb4a8c8507ed19fa950d100b92235c438014749c80522193ce5f93130a1c187bbfea706057418099293d46f45400b7b6616f360521b29ccf9c0f80fbc4276ad37b622d59c75612a21aaddc4755d650934d9ead0e91bae745e3b9d3a3850705970e476d80818b4d0164dd6f87033093a28e49654810cdfa3115fd4e7659885546a137fff7436e10f686ca5c3dd42aa67611e6b843b52966b004d21f0c5443b74dc11f212627903b308e442a7394fc5d967b261634b639ecea81effc49fc8ab774c4edcbde38e563f1b2e8ee013367218c32bfdbaac43b733404cebada01b531abfb9cad3ded03a315&p=936fc00686cc43ea0be2963811&newp=b433dc16d9c116e806bd9b7c5753d8304a02c70e3cc3864e1290c408d23f061d4862e7bc2c261607d1c47c6407ae4b5fe9fa307123454df6cc8a871d81edc56f71&user=baidu&fm=sc&query=Windows+10%B1%E0%D2%EBHadoop+2%2E6%2E0%D4%B4%C2%EB+%2D+%D7%F7%D2%B5%B2%BF%C2%E4+Cmd+Markdown+%B1%E0%BC%AD%D4%C4%B6%C1%C6%F7&qid=aca2d79200009e6f&p1=4",target:"_blank",rel:"noopener noreferrer"}},[a._v("快照"),s("OutboundLink")],1),a._v("）")])]),a._v(" "),s("p",[s("strong",[s("a",{attrs:{href:"https://www.cnblogs.com/guoxiaoqian/p/4328812.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.cnblogs.com/guoxiaoqian/p/4328812.html"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=t.exports},499:function(a,s,n){a.exports=n.p+"assets/img/image-20230613224114892.e8a73e04.png"},500:function(a,s,n){a.exports=n.p+"assets/img/1595409-20190426083717965-409918533.c459de46.png"}}]);